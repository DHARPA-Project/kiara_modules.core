
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Markus Binsteiner">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.4">
    
    
      
        <title>core - kiara_modules.core</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../../../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kiara_modules.core" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="kiara_modules.core" class="md-header__button md-logo" aria-label="kiara_modules.core" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kiara_modules.core
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              core
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DHARPA-project/kiara_modules.core/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="kiara_modules.core" class="md-nav__button md-logo" aria-label="kiara_modules.core" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    kiara_modules.core
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DHARPA-project/kiara_modules.core/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../development.md" class="md-nav__link">
        Development
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Value types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Value types" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Value types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/array/" class="md-nav__link">
        array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/boolean/" class="md-nav__link">
        boolean
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/bytes/" class="md-nav__link">
        bytes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/database/" class="md-nav__link">
        database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/date/" class="md-nav__link">
        date
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/dict/" class="md-nav__link">
        dict
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/file/" class="md-nav__link">
        file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/file_bundle/" class="md-nav__link">
        file_bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/float/" class="md-nav__link">
        float
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/integer/" class="md-nav__link">
        integer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/renderables/" class="md-nav__link">
        renderables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/string/" class="md-nav__link">
        string
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../value_types/table/" class="md-nav__link">
        table
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modules" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/array/" class="md-nav__link">
        array
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../modules/bytes/">bytes</a>
          
            <label for="__nav_5_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="bytes" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          bytes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/bytes/load/" class="md-nav__link">
        load
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/bytes/msgpack/" class="md-nav__link">
        msgpack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/bytes/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../modules/database/">database</a>
          
            <label for="__nav_5_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="database" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/create/" class="md-nav__link">
        create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/export_network_data/" class="md-nav__link">
        export_network_data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/info/" class="md-nav__link">
        info
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/load/" class="md-nav__link">
        load
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/query/" class="md-nav__link">
        query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/database/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/date/" class="md-nav__link">
        date
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/dev/" class="md-nav__link">
        dev
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/dict/" class="md-nav__link">
        dict
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/file/" class="md-nav__link">
        file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/file_bundle/" class="md-nav__link">
        file_bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/generic/" class="md-nav__link">
        generic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/json/" class="md-nav__link">
        json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/logic/" class="md-nav__link">
        logic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/string/" class="md-nav__link">
        string
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_14" type="checkbox" id="__nav_5_14" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../modules/table/">table</a>
          
            <label for="__nav_5_14">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="table" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_14">
          <span class="md-nav__icon md-icon"></span>
          table
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/create/" class="md-nav__link">
        create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/cut_column/" class="md-nav__link">
        cut_column
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/export/" class="md-nav__link">
        export
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/export_table/" class="md-nav__link">
        export_table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/filter/" class="md-nav__link">
        filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/load/" class="md-nav__link">
        load
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/map_column/" class="md-nav__link">
        map_column
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/merge/" class="md-nav__link">
        merge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/metadata/" class="md-nav__link">
        metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/query/" class="md-nav__link">
        query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/sample/" class="md-nav__link">
        sample
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/table/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/value/" class="md-nav__link">
        value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../modules/yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Pipelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pipelines" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pipelines/array/" class="md-nav__link">
        array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pipelines/logic/" class="md-nav__link">
        logic
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../pipelines/table/">table</a>
          
        </div>
      
      <nav class="md-nav" aria-label="table" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          table
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../pipelines/table/filter/" class="md-nav__link">
        filter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Operation types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operation types" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Operation types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../operation_types/data_profile/" class="md-nav__link">
        data_profile
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          API docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          API docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1" type="checkbox" id="__nav_8_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8_1">
          kiara_modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="kiara_modules" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_1">
          <span class="md-nav__icon md-icon"></span>
          kiara_modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1_1" type="checkbox" id="__nav_8_1_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">core</a>
          
            <label for="__nav_8_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="core" data-md-level="3">
        <label class="md-nav__title" for="__nav_8_1_1">
          <span class="md-nav__icon md-icon"></span>
          core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1_1_1" type="checkbox" id="__nav_8_1_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../array/__init__/">array</a>
          
        </div>
      
      <nav class="md-nav" aria-label="array" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_1_1_1">
          <span class="md-nav__icon md-icon"></span>
          array
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../array/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../boolean/" class="md-nav__link">
        boolean
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1_1_3" type="checkbox" id="__nav_8_1_1_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../bytes/__init__/">bytes</a>
          
        </div>
      
      <nav class="md-nav" aria-label="bytes" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_1_1_3">
          <span class="md-nav__icon md-icon"></span>
          bytes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bytes/msgpack/" class="md-nav__link">
        msgpack
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1_1_4" type="checkbox" id="__nav_8_1_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../database/__init__/">database</a>
          
            <label for="__nav_8_1_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="database" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_1_1_4">
          <span class="md-nav__icon md-icon"></span>
          database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/query/" class="md-nav__link">
        query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../date/" class="md-nav__link">
        date
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../defaults/" class="md-nav__link">
        defaults
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev/" class="md-nav__link">
        dev
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dict/" class="md-nav__link">
        dict
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../file/" class="md-nav__link">
        file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../file_bundle/" class="md-nav__link">
        file_bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generic/" class="md-nav__link">
        generic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../import/" class="md-nav__link">
        import
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../json/" class="md-nav__link">
        json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../logic/" class="md-nav__link">
        logic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../metadata_models/" class="md-nav__link">
        metadata_models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipelines/__init__/" class="md-nav__link">
        pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../string/" class="md-nav__link">
        string
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1_1_21" type="checkbox" id="__nav_8_1_1_21" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../table/__init__/">table</a>
          
            <label for="__nav_8_1_1_21">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="table" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_1_1_21">
          <span class="md-nav__icon md-icon"></span>
          table
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../table/filter/" class="md-nav__link">
        filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../table/query/" class="md-nav__link">
        query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../table/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../value/" class="md-nav__link">
        value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../value_types/" class="md-nav__link">
        value_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core" class="md-nav__link">
    kiara_modules.core
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.array" class="md-nav__link">
    array
  </a>
  
    <nav class="md-nav" aria-label="array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.ArrayMetadataModule" class="md-nav__link">
    ArrayMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModule" class="md-nav__link">
    MapModule
  </a>
  
    <nav class="md-nav" aria-label="MapModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModule.module_instance_doc" class="md-nav__link">
    module_instance_doc()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModuleConfig" class="md-nav__link">
    MapModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="MapModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModuleConfig.input_name" class="md-nav__link">
    input_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModuleConfig.module_config" class="md-nav__link">
    module_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModuleConfig.module_type" class="md-nav__link">
    module_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.MapModuleConfig.output_name" class="md-nav__link">
    output_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.SampleArrayModule" class="md-nav__link">
    SampleArrayModule
  </a>
  
    <nav class="md-nav" aria-label="SampleArrayModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.SampleArrayModule.get_value_type" class="md-nav__link">
    get_value_type()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.StoreArrayTypeModule" class="md-nav__link">
    StoreArrayTypeModule
  </a>
  
    <nav class="md-nav" aria-label="StoreArrayTypeModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.array.StoreArrayTypeModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes" class="md-nav__link">
    bytes
  </a>
  
    <nav class="md-nav" aria-label="bytes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.LoadBytesModule" class="md-nav__link">
    LoadBytesModule
  </a>
  
    <nav class="md-nav" aria-label="LoadBytesModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.LoadBytesModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.LoadBytesModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.StoreBytesTypeModule" class="md-nav__link">
    StoreBytesTypeModule
  </a>
  
    <nav class="md-nav" aria-label="StoreBytesTypeModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.StoreBytesTypeModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack" class="md-nav__link">
    msgpack
  </a>
  
    <nav class="md-nav" aria-label="msgpack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule" class="md-nav__link">
    DeserializeFromMsgPackModule
  </a>
  
    <nav class="md-nav" aria-label="DeserializeFromMsgPackModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule" class="md-nav__link">
    SerializeToMsgPackModule
  </a>
  
    <nav class="md-nav" aria-label="SerializeToMsgPackModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModuleConfig" class="md-nav__link">
    SerializeToMsgPackModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="SerializeToMsgPackModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModuleConfig.value_type" class="md-nav__link">
    value_type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.database" class="md-nav__link">
    database
  </a>
  
    <nav class="md-nav" aria-label="database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.BaseDatabaseInfoMetadataModule" class="md-nav__link">
    BaseDatabaseInfoMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.BaseDatabaseMetadataModule" class="md-nav__link">
    BaseDatabaseMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.ConvertToDatabaseModule" class="md-nav__link">
    ConvertToDatabaseModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.DatabaseConversionModuleConfig" class="md-nav__link">
    DatabaseConversionModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="DatabaseConversionModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.DatabaseConversionModuleConfig.ignore_errors" class="md-nav__link">
    ignore_errors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.DatabaseInfoMetadataModule" class="md-nav__link">
    DatabaseInfoMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.DatabaseMetadataModule" class="md-nav__link">
    DatabaseMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.LoadDatabaseConfig" class="md-nav__link">
    LoadDatabaseConfig
  </a>
  
    <nav class="md-nav" aria-label="LoadDatabaseConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.LoadDatabaseConfig.value_type" class="md-nav__link">
    value_type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.LoadDatabaseModule" class="md-nav__link">
    LoadDatabaseModule
  </a>
  
    <nav class="md-nav" aria-label="LoadDatabaseModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.LoadDatabaseModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.LoadDatabaseModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.StoreDatabaseTypeModule" class="md-nav__link">
    StoreDatabaseTypeModule
  </a>
  
    <nav class="md-nav" aria-label="StoreDatabaseTypeModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.StoreDatabaseTypeModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.query" class="md-nav__link">
    query
  </a>
  
    <nav class="md-nav" aria-label="query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.query.QueryDatabaseSQLModuleConfig" class="md-nav__link">
    QueryDatabaseSQLModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="QueryDatabaseSQLModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.query.QueryDatabaseSQLModuleConfig.query" class="md-nav__link">
    query
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.query.QueryTableSQL" class="md-nav__link">
    QueryTableSQL
  </a>
  
    <nav class="md-nav" aria-label="QueryTableSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.query.QueryTableSQL.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.query.QueryTableSQL.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteColumnAttributes" class="md-nav__link">
    SqliteColumnAttributes
  </a>
  
    <nav class="md-nav" aria-label="SqliteColumnAttributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteColumnAttributes.create_index" class="md-nav__link">
    create_index
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteColumnAttributes.data_type" class="md-nav__link">
    data_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteColumnAttributes.extra_column_info" class="md-nav__link">
    extra_column_info
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteTableSchema" class="md-nav__link">
    SqliteTableSchema
  </a>
  
    <nav class="md-nav" aria-label="SqliteTableSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteTableSchema.column_map" class="md-nav__link">
    column_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteTableSchema.columns" class="md-nav__link">
    columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.SqliteTableSchema.extra_schema" class="md-nav__link">
    extra_schema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.database.utils.create_table_init_sql" class="md-nav__link">
    create_table_init_sql()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.date" class="md-nav__link">
    date
  </a>
  
    <nav class="md-nav" aria-label="date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.date.DateRangeCheckModule" class="md-nav__link">
    DateRangeCheckModule
  </a>
  
    <nav class="md-nav" aria-label="DateRangeCheckModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.date.DateRangeCheckModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.date.DateRangeCheckModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.date.ExtractDateModule" class="md-nav__link">
    ExtractDateModule
  </a>
  
    <nav class="md-nav" aria-label="ExtractDateModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.date.ExtractDateModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.date.ExtractDateModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.defaults" class="md-nav__link">
    defaults
  </a>
  
    <nav class="md-nav" aria-label="defaults">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.defaults.KIARA_MODULES_CORE_BASE_FOLDER" class="md-nav__link">
    KIARA_MODULES_CORE_BASE_FOLDER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.defaults.KIARA_MODULES_CORE_RESOURCES_FOLDER" class="md-nav__link">
    KIARA_MODULES_CORE_RESOURCES_FOLDER
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.dev" class="md-nav__link">
    dev
  </a>
  
    <nav class="md-nav" aria-label="dev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyModule" class="md-nav__link">
    DummyModule
  </a>
  
    <nav class="md-nav" aria-label="DummyModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyModule.process" class="md-nav__link">
    process()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyProcessingModuleConfig" class="md-nav__link">
    DummyProcessingModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="DummyProcessingModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.delay" class="md-nav__link">
    delay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.input_schema" class="md-nav__link">
    input_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.output_schema" class="md-nav__link">
    output_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.outputs" class="md-nav__link">
    outputs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.dict" class="md-nav__link">
    dict
  </a>
  
    <nav class="md-nav" aria-label="dict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dict.SaveDictModule" class="md-nav__link">
    SaveDictModule
  </a>
  
    <nav class="md-nav" aria-label="SaveDictModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.dict.SaveDictModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.file" class="md-nav__link">
    file
  </a>
  
    <nav class="md-nav" aria-label="file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file.DefaultFileImportModule" class="md-nav__link">
    DefaultFileImportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file.LoadLocalFileModule" class="md-nav__link">
    LoadLocalFileModule
  </a>
  
    <nav class="md-nav" aria-label="LoadLocalFileModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file.LoadLocalFileModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file.LoadLocalFileModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file.StoreFileTypeModule" class="md-nav__link">
    StoreFileTypeModule
  </a>
  
    <nav class="md-nav" aria-label="StoreFileTypeModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file.StoreFileTypeModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle" class="md-nav__link">
    file_bundle
  </a>
  
    <nav class="md-nav" aria-label="file_bundle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle.DefaultFileBundleImportModule" class="md-nav__link">
    DefaultFileBundleImportModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle.LoadFileBundleModule" class="md-nav__link">
    LoadFileBundleModule
  </a>
  
    <nav class="md-nav" aria-label="LoadFileBundleModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle.LoadFileBundleModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle.LoadFileBundleModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle.StoreFileBundleType" class="md-nav__link">
    StoreFileBundleType
  </a>
  
    <nav class="md-nav" aria-label="StoreFileBundleType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.file_bundle.StoreFileBundleType.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.generic" class="md-nav__link">
    generic
  </a>
  
    <nav class="md-nav" aria-label="generic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.JsonSerializationConfig" class="md-nav__link">
    JsonSerializationConfig
  </a>
  
    <nav class="md-nav" aria-label="JsonSerializationConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.JsonSerializationConfig.file_name" class="md-nav__link">
    file_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.JsonSerializationConfig.options" class="md-nav__link">
    options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreFromJsonDictModule" class="md-nav__link">
    RestoreFromJsonDictModule
  </a>
  
    <nav class="md-nav" aria-label="RestoreFromJsonDictModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreFromJsonDictModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreFromJsonDictModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreScalarModule" class="md-nav__link">
    RestoreScalarModule
  </a>
  
    <nav class="md-nav" aria-label="RestoreScalarModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreScalarModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreScalarModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreScalarModuleConfig" class="md-nav__link">
    RestoreScalarModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="RestoreScalarModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.RestoreScalarModuleConfig.value_type" class="md-nav__link">
    value_type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.StoreScalarModule" class="md-nav__link">
    StoreScalarModule
  </a>
  
    <nav class="md-nav" aria-label="StoreScalarModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.StoreScalarModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.StoreScalarModuleConfig" class="md-nav__link">
    StoreScalarModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="StoreScalarModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.generic.StoreScalarModuleConfig.value_type" class="md-nav__link">
    value_type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.json" class="md-nav__link">
    json
  </a>
  
    <nav class="md-nav" aria-label="json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.json.ToJsonModuleOld" class="md-nav__link">
    ToJsonModuleOld
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.list" class="md-nav__link">
    list
  </a>
  
    <nav class="md-nav" aria-label="list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.list.IncludedInListCheckModule" class="md-nav__link">
    IncludedInListCheckModule
  </a>
  
    <nav class="md-nav" aria-label="IncludedInListCheckModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.list.IncludedInListCheckModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.list.IncludedInListCheckModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.list.StoreDictModule" class="md-nav__link">
    StoreDictModule
  </a>
  
    <nav class="md-nav" aria-label="StoreDictModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.list.StoreDictModule.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.logic" class="md-nav__link">
    logic
  </a>
  
    <nav class="md-nav" aria-label="logic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.AndModule" class="md-nav__link">
    AndModule
  </a>
  
    <nav class="md-nav" aria-label="AndModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.AndModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.AndModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.LogicProcessingModuleConfig" class="md-nav__link">
    LogicProcessingModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="LogicProcessingModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.LogicProcessingModuleConfig.delay" class="md-nav__link">
    delay
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.NotModule" class="md-nav__link">
    NotModule
  </a>
  
    <nav class="md-nav" aria-label="NotModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.NotModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.NotModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.NotModule.process" class="md-nav__link">
    process()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.OrModule" class="md-nav__link">
    OrModule
  </a>
  
    <nav class="md-nav" aria-label="OrModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.OrModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.logic.OrModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models" class="md-nav__link">
    metadata_models
  </a>
  
    <nav class="md-nav" aria-label="metadata_models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.ArrayMetadata" class="md-nav__link">
    ArrayMetadata
  </a>
  
    <nav class="md-nav" aria-label="ArrayMetadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.ArrayMetadata.length" class="md-nav__link">
    length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.ArrayMetadata.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.ColumnSchema" class="md-nav__link">
    ColumnSchema
  </a>
  
    <nav class="md-nav" aria-label="ColumnSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.ColumnSchema.metadata" class="md-nav__link">
    metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.ColumnSchema.type_name" class="md-nav__link">
    type_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.FolderImportConfig" class="md-nav__link">
    FolderImportConfig
  </a>
  
    <nav class="md-nav" aria-label="FolderImportConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.FolderImportConfig.exclude_dirs" class="md-nav__link">
    exclude_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.FolderImportConfig.exclude_files" class="md-nav__link">
    exclude_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.FolderImportConfig.include_files" class="md-nav__link">
    include_files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabase" class="md-nav__link">
    KiaraDatabase
  </a>
  
    <nav class="md-nav" aria-label="KiaraDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabase.db_file_path" class="md-nav__link">
    db_file_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabase.execute_sql" class="md-nav__link">
    execute_sql()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo" class="md-nav__link">
    KiaraDatabaseInfo
  </a>
  
    <nav class="md-nav" aria-label="KiaraDatabaseInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.table_names" class="md-nav__link">
    table_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.tables" class="md-nav__link">
    tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.view_names" class="md-nav__link">
    view_names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile" class="md-nav__link">
    KiaraFile
  </a>
  
    <nav class="md-nav" aria-label="KiaraFile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.import_time" class="md-nav__link">
    import_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.is_onboarded" class="md-nav__link">
    is_onboarded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.mime_type" class="md-nav__link">
    mime_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.orig_filename" class="md-nav__link">
    orig_filename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.orig_path" class="md-nav__link">
    orig_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.load_file" class="md-nav__link">
    load_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFile.read_content" class="md-nav__link">
    read_content()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle" class="md-nav__link">
    KiaraFileBundle
  </a>
  
    <nav class="md-nav" aria-label="KiaraFileBundle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.bundle_name" class="md-nav__link">
    bundle_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.import_time" class="md-nav__link">
    import_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.included_files" class="md-nav__link">
    included_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.is_onboarded" class="md-nav__link">
    is_onboarded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.number_of_files" class="md-nav__link">
    number_of_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.orig_bundle_name" class="md-nav__link">
    orig_bundle_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.orig_path" class="md-nav__link">
    orig_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.KiaraFileBundle.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.TableMetadata" class="md-nav__link">
    TableMetadata
  </a>
  
    <nav class="md-nav" aria-label="TableMetadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.TableMetadata.column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.TableMetadata.column_schema" class="md-nav__link">
    column_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.TableMetadata.rows" class="md-nav__link">
    rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.metadata_models.TableMetadata.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.pipelines" class="md-nav__link">
    pipelines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.string" class="md-nav__link">
    string
  </a>
  
    <nav class="md-nav" aria-label="string">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.DeserializeStringModule" class="md-nav__link">
    DeserializeStringModule
  </a>
  
    <nav class="md-nav" aria-label="DeserializeStringModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.DeserializeStringModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.DeserializeStringModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.DeserializeStringModuleConfig" class="md-nav__link">
    DeserializeStringModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="DeserializeStringModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.DeserializeStringModuleConfig.serialization_type" class="md-nav__link">
    serialization_type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.RegexModule" class="md-nav__link">
    RegexModule
  </a>
  
    <nav class="md-nav" aria-label="RegexModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.RegexModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.RegexModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.RegexModuleConfig" class="md-nav__link">
    RegexModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="RegexModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.RegexModuleConfig.only_first_match" class="md-nav__link">
    only_first_match
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.RegexModuleConfig.regex" class="md-nav__link">
    regex
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.ReplaceModuleConfig" class="md-nav__link">
    ReplaceModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="ReplaceModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.ReplaceModuleConfig.default_value" class="md-nav__link">
    default_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.ReplaceModuleConfig.replacement_map" class="md-nav__link">
    replacement_map
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.ReplaceStringModule" class="md-nav__link">
    ReplaceStringModule
  </a>
  
    <nav class="md-nav" aria-label="ReplaceStringModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.ReplaceStringModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.ReplaceStringModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.StringManipulationModule" class="md-nav__link">
    StringManipulationModule
  </a>
  
    <nav class="md-nav" aria-label="StringManipulationModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.StringManipulationModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.string.StringManipulationModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.table" class="md-nav__link">
    table
  </a>
  
    <nav class="md-nav" aria-label="table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.ConvertToTableModule" class="md-nav__link">
    ConvertToTableModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.CutColumnModule" class="md-nav__link">
    CutColumnModule
  </a>
  
    <nav class="md-nav" aria-label="CutColumnModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.CutColumnModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.CutColumnModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.ExportArrowTable" class="md-nav__link">
    ExportArrowTable
  </a>
  
    <nav class="md-nav" aria-label="ExportArrowTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.ExportArrowTable.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.ExportArrowTable.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.LoadArrowTable" class="md-nav__link">
    LoadArrowTable
  </a>
  
    <nav class="md-nav" aria-label="LoadArrowTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.LoadArrowTable.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.LoadArrowTable.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnModule" class="md-nav__link">
    MapColumnModule
  </a>
  
    <nav class="md-nav" aria-label="MapColumnModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnModule.module_instance_doc" class="md-nav__link">
    module_instance_doc()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnsModuleConfig" class="md-nav__link">
    MapColumnsModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="MapColumnsModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnsModuleConfig.input_name" class="md-nav__link">
    input_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnsModuleConfig.module_config" class="md-nav__link">
    module_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnsModuleConfig.module_type" class="md-nav__link">
    module_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MapColumnsModuleConfig.output_name" class="md-nav__link">
    output_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MergeTableModule" class="md-nav__link">
    MergeTableModule
  </a>
  
    <nav class="md-nav" aria-label="MergeTableModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MergeTableModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MergeTableModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MergeTableModuleConfig" class="md-nav__link">
    MergeTableModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="MergeTableModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.MergeTableModuleConfig.input_schema" class="md-nav__link">
    input_schema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.SampleTableModule" class="md-nav__link">
    SampleTableModule
  </a>
  
    <nav class="md-nav" aria-label="SampleTableModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.SampleTableModule.get_value_type" class="md-nav__link">
    get_value_type()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.SaveArrowTableConfig" class="md-nav__link">
    SaveArrowTableConfig
  </a>
  
    <nav class="md-nav" aria-label="SaveArrowTableConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.SaveArrowTableConfig.compression" class="md-nav__link">
    compression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.StoreArrowTable" class="md-nav__link">
    StoreArrowTable
  </a>
  
    <nav class="md-nav" aria-label="StoreArrowTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.StoreArrowTable.store_value" class="md-nav__link">
    store_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.TableConversionModuleConfig" class="md-nav__link">
    TableConversionModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="TableConversionModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.TableConversionModuleConfig.ignore_errors" class="md-nav__link">
    ignore_errors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.TableMetadataModule" class="md-nav__link">
    TableMetadataModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.filter" class="md-nav__link">
    filter
  </a>
  
    <nav class="md-nav" aria-label="filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.filter.CreateFilteredTableModule" class="md-nav__link">
    CreateFilteredTableModule
  </a>
  
    <nav class="md-nav" aria-label="CreateFilteredTableModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.filter.CreateFilteredTableModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.filter.CreateFilteredTableModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query" class="md-nav__link">
    query
  </a>
  
    <nav class="md-nav" aria-label="query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableGraphQL" class="md-nav__link">
    QueryTableGraphQL
  </a>
  
    <nav class="md-nav" aria-label="QueryTableGraphQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableGraphQL.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableGraphQL.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableSQL" class="md-nav__link">
    QueryTableSQL
  </a>
  
    <nav class="md-nav" aria-label="QueryTableSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableSQL.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableSQL.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableSQLModuleConfig" class="md-nav__link">
    QueryTableSQLModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="QueryTableSQLModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableSQLModuleConfig.query" class="md-nav__link">
    query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.query.QueryTableSQLModuleConfig.relation_name" class="md-nav__link">
    relation_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.table.utils.create_sqlite_schema_data_from_arrow_table" class="md-nav__link">
    create_sqlite_schema_data_from_arrow_table()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.value" class="md-nav__link">
    value
  </a>
  
    <nav class="md-nav" aria-label="value">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value.DataProfilerModule" class="md-nav__link">
    DataProfilerModule
  </a>
  
    <nav class="md-nav" aria-label="DataProfilerModule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value.DataProfilerModule.create_input_schema" class="md-nav__link">
    create_input_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value.DataProfilerModule.create_output_schema" class="md-nav__link">
    create_output_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value.DataProfilerModule.retrieve_module_profiles" class="md-nav__link">
    retrieve_module_profiles()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value.DataProfilerModuleConfig" class="md-nav__link">
    DataProfilerModuleConfig
  </a>
  
    <nav class="md-nav" aria-label="DataProfilerModuleConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value.DataProfilerModuleConfig.value_type" class="md-nav__link">
    value_type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types" class="md-nav__link">
    value_types
  </a>
  
    <nav class="md-nav" aria-label="value_types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.ArrayType" class="md-nav__link">
    ArrayType
  </a>
  
    <nav class="md-nav" aria-label="ArrayType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.ArrayType.parse_value" class="md-nav__link">
    parse_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.ArrayType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.BooleanType" class="md-nav__link">
    BooleanType
  </a>
  
    <nav class="md-nav" aria-label="BooleanType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.BooleanType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.BooleanType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.BytesType" class="md-nav__link">
    BytesType
  </a>
  
    <nav class="md-nav" aria-label="BytesType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.BytesType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DatabaseType" class="md-nav__link">
    DatabaseType
  </a>
  
    <nav class="md-nav" aria-label="DatabaseType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DatabaseType.parse_value" class="md-nav__link">
    parse_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DateType" class="md-nav__link">
    DateType
  </a>
  
    <nav class="md-nav" aria-label="DateType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DateType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DateType.parse_value" class="md-nav__link">
    parse_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DateType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DictType" class="md-nav__link">
    DictType
  </a>
  
    <nav class="md-nav" aria-label="DictType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DictType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.DictType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FileBundleType" class="md-nav__link">
    FileBundleType
  </a>
  
    <nav class="md-nav" aria-label="FileBundleType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FileBundleType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FileType" class="md-nav__link">
    FileType
  </a>
  
    <nav class="md-nav" aria-label="FileType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FileType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FloatType" class="md-nav__link">
    FloatType
  </a>
  
    <nav class="md-nav" aria-label="FloatType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FloatType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.FloatType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.IntegerType" class="md-nav__link">
    IntegerType
  </a>
  
    <nav class="md-nav" aria-label="IntegerType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.IntegerType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.IntegerType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.ListType" class="md-nav__link">
    ListType
  </a>
  
    <nav class="md-nav" aria-label="ListType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.ListType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.ListType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.RenderablesType" class="md-nav__link">
    RenderablesType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.StringType" class="md-nav__link">
    StringType
  </a>
  
    <nav class="md-nav" aria-label="StringType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.StringType.calculate_value_hash" class="md-nav__link">
    calculate_value_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.StringType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.TableType" class="md-nav__link">
    TableType
  </a>
  
    <nav class="md-nav" aria-label="TableType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.TableType.check_data" class="md-nav__link">
    check_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.value_types.TableType.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kiara_modules.core.yaml" class="md-nav__link">
    yaml
  </a>
  
    <nav class="md-nav" aria-label="yaml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kiara_modules.core.yaml.ToYamlModuleOld" class="md-nav__link">
    ToYamlModuleOld
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/DHARPA-project/kiara_modules.core/edit/master/docs/src/kiara_modules/core/__init__.py" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>core</h1>

<div class="doc doc-object doc-module">

<a id="kiara_modules.core"></a>
    <div class="doc doc-contents first">

      <p>Top-level package for kiara_modules.core.</p>



  <div class="doc doc-children">
















  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.array" class="doc doc-heading">
        <code>array</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.array" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.array.ArrayMetadataModule" class="doc doc-heading">
        <code>
ArrayMetadataModule            (<a title="kiara.operations.extract_metadata.ExtractMetadataModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/extract_metadata/#kiara.operations.extract_metadata.ExtractMetadataModule">ExtractMetadataModule</a>)
        </code>



<a href="#kiara_modules.core.array.ArrayMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract metadata from an 'array' value.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArrayMetadataModule</span><span class="p">(</span><span class="n">ExtractMetadataModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract metadata from an &#39;array&#39; value.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;metadata&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;array&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_metadata_key</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;array&quot;</span>

    <span class="k">def</span> <span class="nf">_get_metadata_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="n">ArrayMetadata</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">),</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">array</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.array.MapModule" class="doc doc-heading">
        <code>
MapModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.array.MapModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Map a list of values into another list of values.</p>
<p>This module must be configured with the type (and optional) configuration of another <em>kiara</em> module. This 'child'
module will then be used to compute the array items of the result.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MapModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Map a list of values into another list of values.</span>

<span class="sd">    This module must be configured with the type (and optional) configuration of another *kiara* module. This &#39;child&#39;</span>
<span class="sd">    module will then be used to compute the array items of the result.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">MapModuleConfig</span>

    <span class="k">def</span> <span class="nf">module_instance_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="n">config</span><span class="p">:</span> <span class="n">MapModuleConfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>  <span class="c1"># type: ignore</span>

        <span class="n">module_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_type</span>
        <span class="n">module_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_config</span>

        <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
        <span class="p">)</span>
        <span class="n">type_md</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">full_doc</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get_url_for_reference</span><span class="p">(</span><span class="s2">&quot;module_doc&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
            <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``](</span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">)&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;Map the values of the input list onto a new list of the same length, using the </span><span class="si">{</span><span class="n">link_str</span><span class="si">}</span><span class="s2"> module.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">doc</span> <span class="ow">and</span> <span class="n">doc</span> <span class="o">!=</span> <span class="s2">&quot;-- n/a --&quot;</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">`` documentation:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">doc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">KiaraModule</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">child_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraModule</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span>

        <span class="n">module_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;module_type&quot;</span><span class="p">)</span>
        <span class="n">module_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;map_module_child&quot;</span><span class="p">,</span> <span class="n">module_type</span><span class="o">=</span><span class="n">module_name</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module_input_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;input_name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_names</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_names</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No &#39;input_name&#39; specified, and configured module has more than one inputs. Please specify an &#39;input_name&#39; value in your module config, pick one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module_output_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;output_name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">output_names</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">output_names</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No &#39;output_name&#39; specified, and configured module has more than one outputs. Please specify an &#39;output_name&#39; value in your module config, pick one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The array containing the values the filter is applied on.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_schemas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">assert</span> <span class="n">input_name</span> <span class="o">!=</span> <span class="s2">&quot;array&quot;</span>
            <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;An array of equal length to the input array, containing the &#39;mapped&#39; values.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">input_array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;array&quot;</span><span class="p">)</span>

        <span class="n">init_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_schemas</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">]:</span>
                <span class="k">continue</span>

            <span class="n">init_data</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>

        <span class="n">result_list</span> <span class="o">=</span> <span class="n">map_with_module</span><span class="p">(</span>
            <span class="n">input_array</span><span class="p">,</span>
            <span class="n">module_input_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">,</span>
            <span class="n">module_obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="p">,</span>
            <span class="n">init_data</span><span class="o">=</span><span class="n">init_data</span><span class="p">,</span>
            <span class="n">module_output_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_output_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">result_list</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.array.MapModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.array.MapModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The array containing the values the filter is applied on.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_schemas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">assert</span> <span class="n">input_name</span> <span class="o">!=</span> <span class="s2">&quot;array&quot;</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.array.MapModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.array.MapModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;An array of equal length to the input array, containing the &#39;mapped&#39; values.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.array.MapModule.module_instance_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_instance_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.array.MapModule.module_instance_doc" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return documentation for this instance of the module.</p>
<p>If not overwritten, will return this class' method <code>doc()</code>.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">module_instance_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">MapModuleConfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>  <span class="c1"># type: ignore</span>

    <span class="n">module_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_type</span>
    <span class="n">module_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_config</span>

    <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span>
        <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
    <span class="p">)</span>
    <span class="n">type_md</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">full_doc</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get_url_for_reference</span><span class="p">(</span><span class="s2">&quot;module_doc&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
        <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``](</span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;Map the values of the input list onto a new list of the same length, using the </span><span class="si">{</span><span class="n">link_str</span><span class="si">}</span><span class="s2"> module.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">doc</span> <span class="ow">and</span> <span class="n">doc</span> <span class="o">!=</span> <span class="s2">&quot;-- n/a --&quot;</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">`` documentation:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">doc</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.array.MapModuleConfig" class="doc doc-heading">
        <code>
MapModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.array.MapModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MapModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the kiara module to use to filter the input data.&quot;</span>
    <span class="p">)</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The config for the kiara filter module.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">input_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the input name of the module which will receive the items from our input array. Can be omitted if the configured module only has a single input.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">output_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the output name of the module which will receive the items from our input array. Can be omitted if the configured module only has a single output.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.array.MapModuleConfig.input_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.array.MapModuleConfig.input_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the input name of the module which will receive the items from our input array. Can be omitted if the configured module only has a single input.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.array.MapModuleConfig.module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.array.MapModuleConfig.module_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The config for the kiara filter module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.array.MapModuleConfig.module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.array.MapModuleConfig.module_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the kiara module to use to filter the input data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.array.MapModuleConfig.output_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.array.MapModuleConfig.output_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the output name of the module which will receive the items from our input array. Can be omitted if the configured module only has a single output.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.array.SampleArrayModule" class="doc doc-heading">
        <code>
SampleArrayModule            (<a title="kiara.operations.sample.SampleValueModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/sample/#kiara.operations.sample.SampleValueModule">SampleValueModule</a>)
        </code>



<a href="#kiara_modules.core.array.SampleArrayModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sample an array.</p>
<p>Samples are used to randomly select a subset of a dataset, which helps test queries and workflows on smaller versions
of the original data, to adjust parameters before a full run.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SampleArrayModule</span><span class="p">(</span><span class="n">SampleValueModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sample an array.</span>

<span class="sd">    Samples are used to randomly select a subset of a dataset, which helps test queries and workflows on smaller versions</span>
<span class="sd">    of the original data, to adjust parameters before a full run.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;sample&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;array&quot;</span>

    <span class="c1"># def create_input_schema(</span>
    <span class="c1">#     self,</span>
    <span class="c1"># ) -&gt; typing.Mapping[</span>
    <span class="c1">#     str, typing.Union[ValueSchema, typing.Mapping[str, typing.Any]]</span>
    <span class="c1"># ]:</span>
    <span class="c1">#</span>
    <span class="c1">#     return {</span>
    <span class="c1">#         &quot;table&quot;: {&quot;type&quot;: &quot;table&quot;, &quot;doc&quot;: &quot;The table to sample data from.&quot;},</span>
    <span class="c1">#         &quot;sample_size&quot;: {</span>
    <span class="c1">#             &quot;type&quot;: &quot;integer&quot;,</span>
    <span class="c1">#             &quot;doc&quot;: &quot;The percentage or number of rows to sample (depending on &#39;sample_unit&#39; input).&quot;,</span>
    <span class="c1">#         }</span>
    <span class="c1">#     }</span>
    <span class="c1">#</span>
    <span class="c1"># def create_output_schema(</span>
    <span class="c1">#     self,</span>
    <span class="c1"># ) -&gt; typing.Mapping[</span>
    <span class="c1">#     str, typing.Union[ValueSchema, typing.Mapping[str, typing.Any]]</span>
    <span class="c1"># ]:</span>
    <span class="c1">#</span>
    <span class="c1">#     return {&quot;sampled_table&quot;: {&quot;type&quot;: &quot;table&quot;, &quot;doc&quot;: &quot;A sampled table.&quot;}}</span>

    <span class="k">def</span> <span class="nf">sample_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">duckdb</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">array</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([</span><span class="n">array</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">])</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM data USING SAMPLE </span><span class="si">{</span><span class="n">sample_size</span><span class="si">}</span><span class="s2"> PERCENT (bernoulli);&quot;</span>

        <span class="n">rel_from_arrow</span> <span class="o">=</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">DuckDBPyResult</span> <span class="o">=</span> <span class="n">rel_from_arrow</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>

        <span class="n">result_table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetch_arrow_table</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result_table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;column&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sample_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">duckdb</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">array</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([</span><span class="n">array</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">])</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM data USING SAMPLE </span><span class="si">{</span><span class="n">sample_size</span><span class="si">}</span><span class="s2">;&quot;</span>

        <span class="n">rel_from_arrow</span> <span class="o">=</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">DuckDBPyResult</span> <span class="o">=</span> <span class="n">rel_from_arrow</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>

        <span class="n">result_table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetch_arrow_table</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result_table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;column&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sample_rows_from_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">array</span>

        <span class="n">result_array</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result_array</span>

    <span class="k">def</span> <span class="nf">sample_rows_to_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">array</span>

        <span class="n">result_array</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">-</span> <span class="n">sample_size</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result_array</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.array.SampleArrayModule.get_value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_type</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.array.SampleArrayModule.get_value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the value type for this sample module.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;array&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.array.StoreArrayTypeModule" class="doc doc-heading">
        <code>
StoreArrayTypeModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.array.StoreArrayTypeModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Save an Arrow array to a file.</p>
<p>This module wraps the input array into an Arrow Table, and saves this table as a feather file.</p>
<p>The output of this module is a dictionary representing the configuration to be used with <em>kira</em> to re-assemble
the array object from disk.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreArrayTypeModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save an Arrow array to a file.</span>

<span class="sd">    This module wraps the input array into an Arrow Table, and saves this table as a feather file.</span>

<span class="sd">    The output of this module is a dictionary representing the configuration to be used with *kira* to re-assemble</span>
<span class="sd">    the array object from disk.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;array&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
        <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>

        <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="c1"># folder = inputs.get_value_data(&quot;folder_path&quot;)</span>
        <span class="c1"># file_name = inputs.get_value_data(&quot;file_name&quot;)</span>
        <span class="c1"># column_name = inputs.get_value_data(&quot;column_name&quot;)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">ARRAY_SAVE_FILE_NAME</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t write file, path already exists: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([</span><span class="n">array</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">ARRAY_SAVE_COLUM_NAME</span><span class="p">])</span>
        <span class="n">feather</span><span class="o">.</span><span class="n">write_feather</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;array.restore&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
                <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">ARRAY_SAVE_FILE_NAME</span><span class="p">,</span>
                <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
                <span class="s2">&quot;column_name&quot;</span><span class="p">:</span> <span class="n">ARRAY_SAVE_COLUM_NAME</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.array.StoreArrayTypeModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.array.StoreArrayTypeModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/array/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

    <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
    <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>

    <span class="n">array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
    <span class="c1"># folder = inputs.get_value_data(&quot;folder_path&quot;)</span>
    <span class="c1"># file_name = inputs.get_value_data(&quot;file_name&quot;)</span>
    <span class="c1"># column_name = inputs.get_value_data(&quot;column_name&quot;)</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">ARRAY_SAVE_FILE_NAME</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t write file, path already exists: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([</span><span class="n">array</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">ARRAY_SAVE_COLUM_NAME</span><span class="p">])</span>
    <span class="n">feather</span><span class="o">.</span><span class="n">write_feather</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;array.restore&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">ARRAY_SAVE_FILE_NAME</span><span class="p">,</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
            <span class="s2">&quot;column_name&quot;</span><span class="p">:</span> <span class="n">ARRAY_SAVE_COLUM_NAME</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>








  </div>

    </div>

  </div>




  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.bytes" class="doc doc-heading">
        <code>bytes</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.bytes" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.bytes.LoadBytesModule" class="doc doc-heading">
        <code>
LoadBytesModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.bytes.LoadBytesModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/bytes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoadBytesModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;load&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The base path to the file to read.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the file, within the base path.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;bytes&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The content of the file.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t read file, path does not exist: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.bytes.LoadBytesModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.LoadBytesModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The base path to the file to read.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the file, within the base path.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.bytes.LoadBytesModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.LoadBytesModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;bytes&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The content of the file.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.bytes.StoreBytesTypeModule" class="doc doc-heading">
        <code>
StoreBytesTypeModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.bytes.StoreBytesTypeModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/bytes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreBytesTypeModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;bytes&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">BYTES_SAVE_FILE_NAME</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t write bytes, target path already exists: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="nb">bytes</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">)</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes.load&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">BYTES_SAVE_FILE_NAME</span><span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.bytes.StoreBytesTypeModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.StoreBytesTypeModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">BYTES_SAVE_FILE_NAME</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t write bytes, target path already exists: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nb">bytes</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">)</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes.load&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">BYTES_SAVE_FILE_NAME</span><span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h3 id="kiara_modules.core.bytes.msgpack" class="doc doc-heading">
        <code>msgpack</code>



<a href="#kiara_modules.core.bytes.msgpack" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule" class="doc doc-heading">
        <code>
DeserializeFromMsgPackModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DeserializeFromMsgPackModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;to_value&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">SerializeToMsgPackModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;bytes&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The msgpack-serialized value.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of the value.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;value_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;any&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;value_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A dictionary with metadata of the serialized table. The result dict has the metadata key as key, and two sub-values under each key: &#39;metadata_item&#39; (the actual metadata) and &#39;metadata_item_schema&#39; (the schema for the metadata).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">msgpack</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;bytes&quot;</span><span class="p">)</span>

        <span class="n">unpacked</span> <span class="o">=</span> <span class="n">msgpack</span><span class="o">.</span><span class="n">unpackb</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">value_type</span> <span class="o">=</span> <span class="n">unpacked</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>

        <span class="n">metadata</span> <span class="o">=</span> <span class="n">unpacked</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_metadata&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>

        <span class="n">new_data</span> <span class="o">=</span> <span class="n">unpacked</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;to_</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value type not supported for msgpack deserialization: </span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;to_</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">new_data</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_data&quot;</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">reader</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">ipc</span><span class="o">.</span><span class="n">open_stream</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="n">batches</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">]</span>
        <span class="n">new_table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_batches</span><span class="p">(</span><span class="n">batches</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_table</span>

    <span class="k">def</span> <span class="nf">to_boolean</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>

        <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;bytes&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The msgpack-serialized value.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.msgpack.DeserializeFromMsgPackModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The type of the value.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;value_data&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;any&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;value_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A dictionary with metadata of the serialized table. The result dict has the metadata key as key, and two sub-values under each key: &#39;metadata_item&#39; (the actual metadata) and &#39;metadata_item_schema&#39; (the schema for the metadata).&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule" class="doc doc-heading">
        <code>
SerializeToMsgPackModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializeToMsgPackModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;from_value&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">SerializeToMsgPackModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;bytes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The msgpack-serialized </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">msgpack</span>

        <span class="n">type_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;from_</span><span class="si">{</span><span class="n">type_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value type not supported for msgpack serialization: </span><span class="si">{</span><span class="n">type_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;from_</span><span class="si">{</span><span class="n">type_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="s2">&quot;value_item&quot;</span><span class="p">)</span>

        <span class="n">metadata</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="n">also_return_schema</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">type_name</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">msg</span><span class="p">}</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="n">msgpack</span><span class="o">.</span><span class="n">packb</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">use_bin_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table_val</span><span class="p">:</span> <span class="n">Value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">table_val</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">sink</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">BufferOutputStream</span><span class="p">()</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">ipc</span><span class="o">.</span><span class="n">new_stream</span><span class="p">(</span><span class="n">sink</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="n">buf</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Buffer</span> <span class="o">=</span> <span class="n">sink</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">memoryview</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_boolean</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>

        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;bytes&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bytes&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The msgpack-serialized </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> value.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.bytes.msgpack.SerializeToMsgPackModuleConfig" class="doc doc-heading">
        <code>
SerializeToMsgPackModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModuleConfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/bytes/msgpack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SerializeToMsgPackModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value type to serialize/deserialize.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.bytes.msgpack.SerializeToMsgPackModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.bytes.msgpack.SerializeToMsgPackModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The value type to serialize/deserialize.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.database" class="doc doc-heading">
        <code>database</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.database" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.BaseDatabaseInfoMetadataModule" class="doc doc-heading">
        <code>
BaseDatabaseInfoMetadataModule            (<a title="kiara.operations.extract_metadata.ExtractMetadataModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/extract_metadata/#kiara.operations.extract_metadata.ExtractMetadataModule">ExtractMetadataModule</a>)
        </code>



<a href="#kiara_modules.core.database.BaseDatabaseInfoMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract extended metadata (like tables, schemas) from a database object.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseDatabaseInfoMetadataModule</span><span class="p">(</span><span class="n">ExtractMetadataModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract extended metadata (like tables, schemas) from a database object.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_metadata_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="n">KiaraDatabase</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseModel</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">inspect</span><span class="p">,</span> <span class="n">text</span>

        <span class="n">database</span><span class="p">:</span> <span class="n">KiaraDatabase</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">inspector</span><span class="p">:</span> <span class="n">Inspector</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">database</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">())</span>

        <span class="n">table_names</span> <span class="o">=</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
        <span class="n">view_names</span> <span class="o">=</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_view_names</span><span class="p">()</span>

        <span class="n">table_infos</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">table_names</span><span class="p">:</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_columns</span><span class="p">(</span><span class="n">table_name</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
            <span class="n">columns_info</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">with</span> <span class="n">database</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">()</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">con</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SELECT count(*) from </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
                <span class="n">num_rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
                        <span class="n">text</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;SELECT SUM(&quot;pgsize&quot;) FROM &quot;dbstat&quot; WHERE name=&quot;</span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="n">table_size</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="n">table_size</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
                <span class="n">column_name</span> <span class="o">=</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                <span class="n">cs</span> <span class="o">=</span> <span class="n">ColumnSchema</span><span class="p">(</span>
                    <span class="n">type_name</span><span class="o">=</span><span class="n">column</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">__visit_name__</span><span class="p">,</span>
                    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
                        <span class="s2">&quot;is_primary_key&quot;</span><span class="p">:</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;primary_key&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;nullable&quot;</span><span class="p">:</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;nullable&quot;</span><span class="p">],</span>
                    <span class="p">},</span>
                <span class="p">)</span>
                <span class="n">columns_info</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">cs</span>
            <span class="n">table_infos</span><span class="p">[</span><span class="n">table</span><span class="p">]</span> <span class="o">=</span> <span class="n">TableMetadata</span><span class="p">(</span>
                <span class="n">column_names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">columns_info</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
                <span class="n">column_schema</span><span class="o">=</span><span class="n">columns_info</span><span class="p">,</span>
                <span class="n">rows</span><span class="o">=</span><span class="n">num_rows</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="n">table_size</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">file_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">database</span><span class="o">.</span><span class="n">db_file_path</span><span class="p">)</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">file_stats</span><span class="o">.</span><span class="n">st_size</span>

        <span class="n">kdi</span> <span class="o">=</span> <span class="n">KiaraDatabaseInfo</span><span class="p">(</span>
            <span class="n">table_names</span><span class="o">=</span><span class="n">table_names</span><span class="p">,</span>
            <span class="n">view_names</span><span class="o">=</span><span class="n">view_names</span><span class="p">,</span>
            <span class="n">tables</span><span class="o">=</span><span class="n">table_infos</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">kdi</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.BaseDatabaseMetadataModule" class="doc doc-heading">
        <code>
BaseDatabaseMetadataModule            (<a title="kiara.operations.extract_metadata.ExtractMetadataModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/extract_metadata/#kiara.operations.extract_metadata.ExtractMetadataModule">ExtractMetadataModule</a>)
        </code>



<a href="#kiara_modules.core.database.BaseDatabaseMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract basic metadata from a database object.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseDatabaseMetadataModule</span><span class="p">(</span><span class="n">ExtractMetadataModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract basic metadata from a database object.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_metadata_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="n">KiaraDatabase</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraDatabase</span><span class="p">:</span>

        <span class="n">database</span><span class="p">:</span> <span class="n">KiaraDatabase</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">database</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.ConvertToDatabaseModule" class="doc doc-heading">
        <code>
ConvertToDatabaseModule            (<a title="kiara.operations.create_value.CreateValueModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/create_value/#kiara.operations.create_value.CreateValueModule">CreateValueModule</a>)
        </code>



<a href="#kiara_modules.core.database.ConvertToDatabaseModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Create a database from files, file_bundles, etc.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ConvertToDatabaseModule</span><span class="p">(</span><span class="n">CreateValueModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a database from files, file_bundles, etc.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;create&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">DatabaseConversionModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;database&quot;</span>

    <span class="k">def</span> <span class="nf">from_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
        <span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span>

        <span class="kn">from</span> <span class="nn">kiara_modules.core.table.utils</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">create_sqlite_schema_data_from_arrow_table</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="c1"># maybe we could check the values lineage, to find the best table name?</span>
        <span class="n">table_name</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>

        <span class="n">index_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">column_names</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cn</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
                <span class="n">index_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cn</span><span class="p">)</span>

        <span class="n">column_info</span><span class="p">:</span> <span class="n">SqliteTableSchema</span> <span class="o">=</span> <span class="n">create_sqlite_schema_data_from_arrow_table</span><span class="p">(</span>
            <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">index_columns</span><span class="o">=</span><span class="n">index_columns</span>
        <span class="p">)</span>

        <span class="n">init_sql</span> <span class="o">=</span> <span class="n">create_table_init_sql</span><span class="p">(</span>
            <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span><span class="p">,</span> <span class="n">table_schema</span><span class="o">=</span><span class="n">column_info</span>
        <span class="p">)</span>

        <span class="n">db</span> <span class="o">=</span> <span class="n">KiaraDatabase</span><span class="o">.</span><span class="n">create_in_temp_dir</span><span class="p">(</span><span class="n">init_sql</span><span class="o">=</span><span class="n">init_sql</span><span class="p">)</span>

        <span class="n">nodes_column_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">to_batches</span><span class="p">(</span><span class="n">DEFAULT_DB_CHUNK_SIZE</span><span class="p">):</span>
            <span class="n">batch_dict</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">to_pydict</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">nodes_column_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">batch_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">_data</span> <span class="o">=</span> <span class="n">batch_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">batch_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Duplicate column name after mapping: </span><span class="si">{v}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">batch_dict</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">_data</span>

            <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">batch_dict</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">batch_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())]</span>

            <span class="n">engine</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">()</span>

            <span class="n">_metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
            <span class="n">sqlite_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">_metadata_obj</span><span class="p">,</span> <span class="n">autoload_with</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>

            <span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">begin</span><span class="p">():</span>
                    <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sqlite_table</span><span class="o">.</span><span class="n">insert</span><span class="p">(),</span> <span class="n">data</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">db</span>

    <span class="k">def</span> <span class="nf">from_csv_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">):</span>

        <span class="n">f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
        <span class="n">db_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;db.sqlite&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

        <span class="n">create_sqlite_table_from_file</span><span class="p">(</span>
            <span class="n">target_db_file</span><span class="o">=</span><span class="n">db_path</span><span class="p">,</span> <span class="n">file_item</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">db_path</span>

    <span class="k">def</span> <span class="nf">from_csv_file_bundle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">):</span>

        <span class="n">include_file_information</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">include_raw_content_in_file_info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">temp_f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
        <span class="n">db_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_f</span><span class="p">,</span> <span class="s2">&quot;db.sqlite&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">db_path</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

        <span class="n">db</span> <span class="o">=</span> <span class="n">KiaraDatabase</span><span class="p">(</span><span class="n">db_file_path</span><span class="o">=</span><span class="n">db_path</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">create_if_not_exists</span><span class="p">()</span>

        <span class="n">bundle</span><span class="p">:</span> <span class="n">KiaraFileBundle</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">table_names</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">rel_path</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">bundle</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">file_item</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span>
            <span class="n">table_name</span> <span class="o">=</span> <span class="n">find_free_id</span><span class="p">(</span>
                <span class="n">stem</span><span class="o">=</span><span class="n">file_item</span><span class="o">.</span><span class="n">file_name_without_extension</span><span class="p">,</span> <span class="n">current_ids</span><span class="o">=</span><span class="n">table_names</span>
            <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">table_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table_name</span><span class="p">)</span>
                <span class="n">create_sqlite_table_from_file</span><span class="p">(</span>
                    <span class="n">target_db_file</span><span class="o">=</span><span class="n">db_path</span><span class="p">,</span> <span class="n">file_item</span><span class="o">=</span><span class="n">file_item</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">or</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">log_message</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Ignoring file &#39;</span><span class="si">{</span><span class="n">rel_path</span><span class="si">}</span><span class="s2">&#39;: could not import data from file -- </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                    <span class="k">continue</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">include_file_information</span><span class="p">:</span>
            <span class="n">create_table_from_file_bundle</span><span class="p">(</span>
                <span class="n">file_bundle</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(),</span>
                <span class="n">db_file_path</span><span class="o">=</span><span class="n">db_path</span><span class="p">,</span>
                <span class="n">table_name</span><span class="o">=</span><span class="s2">&quot;source_files_metadata&quot;</span><span class="p">,</span>
                <span class="n">include_content</span><span class="o">=</span><span class="n">include_raw_content_in_file_info</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">db_path</span>

    <span class="k">def</span> <span class="nf">from_text_file_bundle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">):</span>

        <span class="k">return</span> <span class="n">create_table_from_file_bundle</span><span class="p">(</span>
            <span class="n">file_bundle</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(),</span> <span class="n">include_content</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.DatabaseConversionModuleConfig" class="doc doc-heading">
        <code>
DatabaseConversionModuleConfig            (<a title="kiara.operations.create_value.CreateValueModuleConfig" href="https://dharpa.org/kiara/latest/reference/kiara/operations/create_value/#kiara.operations.create_value.CreateValueModuleConfig">CreateValueModuleConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.database.DatabaseConversionModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DatabaseConversionModuleConfig</span><span class="p">(</span><span class="n">CreateValueModuleConfig</span><span class="p">):</span>

    <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to ignore convert errors and omit the failed items.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.database.DatabaseConversionModuleConfig.ignore_errors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.DatabaseConversionModuleConfig.ignore_errors" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether to ignore convert errors and omit the failed items.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.DatabaseInfoMetadataModule" class="doc doc-heading">
        <code>
DatabaseInfoMetadataModule            (<a title="kiara_modules.core.database.BaseDatabaseInfoMetadataModule" href="../database/__init__/#kiara_modules.core.database.BaseDatabaseInfoMetadataModule">BaseDatabaseInfoMetadataModule</a>)
        </code>



<a href="#kiara_modules.core.database.DatabaseInfoMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract extended metadata (like tables, schemas) from a database object.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DatabaseInfoMetadataModule</span><span class="p">(</span><span class="n">BaseDatabaseInfoMetadataModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract extended metadata (like tables, schemas) from a database object.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;info&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;database&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_metadata_key</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;database_info&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.DatabaseMetadataModule" class="doc doc-heading">
        <code>
DatabaseMetadataModule            (<a title="kiara_modules.core.database.BaseDatabaseMetadataModule" href="../database/__init__/#kiara_modules.core.database.BaseDatabaseMetadataModule">BaseDatabaseMetadataModule</a>)
        </code>



<a href="#kiara_modules.core.database.DatabaseMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract basic metadata from a database object.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DatabaseMetadataModule</span><span class="p">(</span><span class="n">BaseDatabaseMetadataModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract basic metadata from a database object.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;metadata&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;database&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_metadata_key</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;database&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.LoadDatabaseConfig" class="doc doc-heading">
        <code>
LoadDatabaseConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.database.LoadDatabaseConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoadDatabaseConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the value to be stored (if database sub-type).&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;database&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.database.LoadDatabaseConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.LoadDatabaseConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type of the value to be stored (if database sub-type).</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.LoadDatabaseModule" class="doc doc-heading">
        <code>
LoadDatabaseModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.database.LoadDatabaseModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoadDatabaseModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;load&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">LoadDatabaseConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the base directory where the database file is stored.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the database file within the base directory.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value_type</span> <span class="o">!=</span> <span class="s2">&quot;database&quot;</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (as &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The database value object</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;rel_path&quot;</span><span class="p">)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.database.LoadDatabaseModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.database.LoadDatabaseModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the base directory where the database file is stored.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the database file within the base directory.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.database.LoadDatabaseModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.database.LoadDatabaseModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value_type</span> <span class="o">!=</span> <span class="s2">&quot;database&quot;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (as &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The database value object</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.database.StoreDatabaseTypeModule" class="doc doc-heading">
        <code>
StoreDatabaseTypeModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.database.StoreDatabaseTypeModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Save an sqlite database to a file.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreDatabaseTypeModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save an sqlite database to a file.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;database&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="n">value_type</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">type_name</span>
        <span class="c1"># TODO: assert type inherits from database</span>

        <span class="n">database</span><span class="p">:</span> <span class="n">KiaraDatabase</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">DEFAULT_DATABASE_SAVE_FILE_NAME</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t write file, path already exists: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">new_db</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">copy_database_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;database.load&quot;</span><span class="p">,</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">},</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
                <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">DEFAULT_DATABASE_SAVE_FILE_NAME</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;database&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">load_config</span><span class="p">,</span> <span class="n">new_db</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.database.StoreDatabaseTypeModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.database.StoreDatabaseTypeModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

    <span class="n">value_type</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">type_name</span>
    <span class="c1"># TODO: assert type inherits from database</span>

    <span class="n">database</span><span class="p">:</span> <span class="n">KiaraDatabase</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">DEFAULT_DATABASE_SAVE_FILE_NAME</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t write file, path already exists: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">new_db</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">copy_database_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;database.load&quot;</span><span class="p">,</span>
        <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">value_type</span><span class="p">},</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">DEFAULT_DATABASE_SAVE_FILE_NAME</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;database&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">load_config</span><span class="p">,</span> <span class="n">new_db</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  <div class="doc doc-object doc-module">



<h3 id="kiara_modules.core.database.query" class="doc doc-heading">
        <code>query</code>



<a href="#kiara_modules.core.database.query" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.database.query.QueryDatabaseSQLModuleConfig" class="doc doc-heading">
        <code>
QueryDatabaseSQLModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.database.query.QueryDatabaseSQLModuleConfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/database/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">QueryDatabaseSQLModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">query</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The query to execute. If not specified, the user will be able to provide their own.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.query.QueryDatabaseSQLModuleConfig.query" class="doc doc-heading">
<code class="highlight language-python"><span class="n">query</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.query.QueryDatabaseSQLModuleConfig.query" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The query to execute. If not specified, the user will be able to provide their own.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.database.query.QueryTableSQL" class="doc doc-heading">
        <code>
QueryTableSQL            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.database.query.QueryTableSQL" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute a sql query against an (Arrow) table.</p>

        <details class="quote">
          <summary>Source code in <code>core/database/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">QueryTableSQL</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute a sql query against an (Arrow) table.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;sql&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">QueryDatabaseSQLModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;database&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The database to query&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inputs</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query.&quot;</span><span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;query_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query result.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>

        <span class="n">_database</span><span class="p">:</span> <span class="n">KiaraDatabase</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">)</span>

        <span class="c1"># can&#39;t re-use the default engine, because pandas does not support having the &#39;future&#39; flag set to &#39;True&#39;</span>
        <span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">_database</span><span class="o">.</span><span class="n">db_url</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">_query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;query_result&quot;</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.database.query.QueryTableSQL.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.database.query.QueryTableSQL.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/database/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;database&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The database to query&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">inputs</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query.&quot;</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.database.query.QueryTableSQL.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.database.query.QueryTableSQL.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/database/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;query_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query result.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara_modules.core.database.utils" class="doc doc-heading">
        <code>utils</code>



<a href="#kiara_modules.core.database.utils" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.database.utils.SqliteColumnAttributes" class="doc doc-heading">
        <code>
SqliteColumnAttributes            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteColumnAttributes" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/database/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqliteColumnAttributes</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type of the data in this column.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;ANY&quot;</span>
    <span class="p">)</span>
    <span class="n">extra_column_info</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Additional init information for the column.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>
    <span class="n">create_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to create an index for this column or not.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.utils.SqliteColumnAttributes.create_index" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_index</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteColumnAttributes.create_index" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Whether to create an index for this column or not.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.utils.SqliteColumnAttributes.data_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteColumnAttributes.data_type" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The type of the data in this column.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.utils.SqliteColumnAttributes.extra_column_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra_column_info</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteColumnAttributes.extra_column_info" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Additional init information for the column.</p>
    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.database.utils.SqliteTableSchema" class="doc doc-heading">
        <code>
SqliteTableSchema            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteTableSchema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/database/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqliteTableSchema</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">columns</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SqliteColumnAttributes</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The table columns and their attributes.&quot;</span>
    <span class="p">)</span>
    <span class="n">extra_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Extra schema information for this table.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>
    <span class="n">column_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dictionary describing how to map incoming data column names. Values in this dict point to keys in this models &#39;columns&#39; attribute.&quot;</span><span class="p">,</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.utils.SqliteTableSchema.column_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">column_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteTableSchema.column_map" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A dictionary describing how to map incoming data column names. Values in this dict point to keys in this models 'columns' attribute.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.utils.SqliteTableSchema.columns" class="doc doc-heading">
<code class="highlight language-python"><span class="n">columns</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara_modules</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">SqliteColumnAttributes</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteTableSchema.columns" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The table columns and their attributes.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.database.utils.SqliteTableSchema.extra_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.database.utils.SqliteTableSchema.extra_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Extra schema information for this table.</p>
    </div>

  </div>










  </div>

    </div>

  </div>






  <div class="doc doc-object doc-function">



<h4 id="kiara_modules.core.database.utils.create_table_init_sql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_table_init_sql</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">table_schema</span><span class="p">,</span> <span class="n">schema_template_str</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#kiara_modules.core.database.utils.create_table_init_sql" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create an sql script to initialize a table.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>column_attrs</code></td>
        <td></td>
        <td><p>a map with the column name as key, and column details ('type', 'extra_column_info', 'create_index') as values</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>core/database/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_table_init_sql</span><span class="p">(</span>
    <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">table_schema</span><span class="p">:</span> <span class="n">SqliteTableSchema</span><span class="p">,</span>
    <span class="n">schema_template_str</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create an sql script to initialize a table.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        column_attrs: a map with the column name as key, and column details (&#39;type&#39;, &#39;extra_column_info&#39;, &#39;create_index&#39;) as values</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">schema_template_str</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">template_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">TEMPLATES_FOLDER</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;sqlite_schama.sql.j2&quot;</span>
        <span class="n">schema_template_str</span> <span class="o">=</span> <span class="n">template_path</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>

    <span class="n">template</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">BaseLoader</span><span class="p">())</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">schema_template_str</span><span class="p">)</span>

    <span class="n">edges_columns</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">edge_indexes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">details</span> <span class="ow">in</span> <span class="n">table_schema</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">cn_type</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">data_type</span>
        <span class="n">cn_extra</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">extra_column_info</span>

        <span class="n">line</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;    </span><span class="si">{</span><span class="n">cn</span><span class="si">}</span><span class="s2">    </span><span class="si">{</span><span class="n">cn_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">cn_extra</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">    </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cn_extra</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">edges_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">details</span><span class="o">.</span><span class="n">create_index</span><span class="p">:</span>
            <span class="n">edge_indexes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cn</span><span class="p">)</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">table_schema</span><span class="o">.</span><span class="n">extra_schema</span><span class="p">)</span>

    <span class="n">rendered</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
        <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span><span class="p">,</span> <span class="n">column_info</span><span class="o">=</span><span class="n">lines</span><span class="p">,</span> <span class="n">index_columns</span><span class="o">=</span><span class="n">edge_indexes</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">rendered</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.date" class="doc doc-heading">
        <code>date</code>



<a href="#kiara_modules.core.date" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A collection of date related modules.</p>
<p>Most of those are very bare-bones, not really dealing with more advanced (but very important) concepts like timezones
and resolution yet.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.date.DateRangeCheckModule" class="doc doc-heading">
        <code>
DateRangeCheckModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.date.DateRangeCheckModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Check whether a date falls within a specified date range.</p>
<p>If none one of the inputs 'earliest' or 'latest' is set, this module will always return 'True'.</p>
<p>Return <code>True</code> if that's the case, otherwise <code>False</code>.</p>

        <details class="quote">
          <summary>Source code in <code>core/date.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DateRangeCheckModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check whether a date falls within a specified date range.</span>

<span class="sd">    If none one of the inputs &#39;earliest&#39; or &#39;latest&#39; is set, this module will always return &#39;True&#39;.</span>

<span class="sd">    Return ``True`` if that&#39;s the case, otherwise ``False``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;range_check&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The date to check.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;earliest&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The earliest date that is allowed.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;latest&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The latest date that is allowed.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;within_range&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean indicating whether the provided date was within the allowed range (&#39;true&#39;), or not (&#39;false&#39;)&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>

        <span class="n">d</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span>
        <span class="n">earliest</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;earliest&quot;</span><span class="p">)</span>
        <span class="n">latest</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;latest&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">earliest</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">latest</span><span class="p">:</span>
            <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;within_range&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s2">&quot;as_py&quot;</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">as_py</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">earliest</span> <span class="ow">and</span> <span class="n">latest</span><span class="p">:</span>
            <span class="n">matches</span> <span class="o">=</span> <span class="n">earliest</span> <span class="o">&lt;=</span> <span class="n">d</span> <span class="o">&lt;=</span> <span class="n">latest</span>
        <span class="k">elif</span> <span class="n">earliest</span><span class="p">:</span>
            <span class="n">matches</span> <span class="o">=</span> <span class="n">earliest</span> <span class="o">&lt;=</span> <span class="n">d</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">matches</span> <span class="o">=</span> <span class="n">d</span> <span class="o">&lt;=</span> <span class="n">latest</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;within_range&quot;</span><span class="p">,</span> <span class="n">matches</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.date.DateRangeCheckModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.date.DateRangeCheckModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/date.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The date to check.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;earliest&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The earliest date that is allowed.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;latest&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The latest date that is allowed.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.date.DateRangeCheckModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.date.DateRangeCheckModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/date.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;within_range&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean indicating whether the provided date was within the allowed range (&#39;true&#39;), or not (&#39;false&#39;)&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.date.ExtractDateModule" class="doc doc-heading">
        <code>
ExtractDateModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.date.ExtractDateModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract a date object from a string.</p>
<p>This module is not really smart yet, currently it uses the following regex to extract a date (which might fail in a lot of cases):</p>
<div class="codehilite"><pre><span></span><code>r&quot;_(\d{4}-\d{2}-\d{2})_&quot;
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>core/date.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExtractDateModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract a date object from a string.</span>

<span class="sd">    This module is not really smart yet, currently it uses the following regex to extract a date (which might fail in a lot of cases):</span>

<span class="sd">        r&quot;_(\d{4}-\d{2}-\d{2})_&quot;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;extract_from_string&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The input string.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The date extracted from the input string.&quot;</span><span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
        <span class="n">date_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;_(\d</span><span class="si">{4}</span><span class="s2">-\d</span><span class="si">{2}</span><span class="s2">-\d</span><span class="si">{2}</span><span class="s2">)_&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">date_match</span>
        <span class="n">d_obj</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">date_match</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># type: ignore</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">d_obj</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.date.ExtractDateModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.date.ExtractDateModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/date.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The input string.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.date.ExtractDateModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.date.ExtractDateModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/date.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The date extracted from the input string.&quot;</span><span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.defaults" class="doc doc-heading">
        <code>defaults</code>



<a href="#kiara_modules.core.defaults" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h3 id="kiara_modules.core.defaults.KIARA_MODULES_CORE_BASE_FOLDER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">KIARA_MODULES_CORE_BASE_FOLDER</span></code>


<a href="#kiara_modules.core.defaults.KIARA_MODULES_CORE_BASE_FOLDER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Marker to indicate the base folder for the kiara network module package.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="kiara_modules.core.defaults.KIARA_MODULES_CORE_RESOURCES_FOLDER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">KIARA_MODULES_CORE_RESOURCES_FOLDER</span></code>


<a href="#kiara_modules.core.defaults.KIARA_MODULES_CORE_RESOURCES_FOLDER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Default resources folder for this package.</p>
    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.dev" class="doc doc-heading">
        <code>dev</code>



<a href="#kiara_modules.core.dev" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Modules that are useful for kiara as well as pipeline-development, as well as testing.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.dev.DummyModule" class="doc doc-heading">
        <code>
DummyModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.dev.DummyModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Module that simulates processing, but uses hard-coded outputs as a result.</p>

        <details class="quote">
          <summary>Source code in <code>core/dev.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DummyModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Module that simulates processing, but uses hard-coded outputs as a result.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">DummyProcessingModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The input schema for the ``dummy`` module is created at object creation time from the ``input_schemas`` config parameter.&quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_schema&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1"># type: ignore</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="o">**</span><span class="n">v</span><span class="p">)</span>
            <span class="n">schema</span><span class="o">.</span><span class="n">validate_types</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The output schema for the ``dummy`` module is created at object creation time from the ``output_schemas`` config parameter.&quot;&quot;&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;output_schema&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1"># type: ignore</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="o">**</span><span class="n">v</span><span class="p">)</span>
            <span class="n">schema</span><span class="o">.</span><span class="n">validate_types</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the hardcoded output values that are set in the ``outputs`` config field.</span>

<span class="sd">        Optionally, this module can simulate processing by waiting a configured amount of time (seconds -- specified in the ``delay`` config parameter).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delay&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

        <span class="n">output_values</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="n">value_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">output_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">output_values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
                <span class="c1"># v = self.output_schemas[output_name].type_obj.fake_value()</span>
                <span class="c1"># value_dict[output_name] = v</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value_dict</span><span class="p">[</span><span class="n">output_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_values</span><span class="p">[</span><span class="n">output_name</span><span class="p">]</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="o">**</span><span class="n">value_dict</span><span class="p">)</span>

    <span class="c1"># def _get_doc(self) -&gt; str:</span>
    <span class="c1">#</span>
    <span class="c1">#     doc = self.config.get(&quot;doc&quot;, None)</span>
    <span class="c1">#</span>
    <span class="c1">#     if doc:</span>
    <span class="c1">#         return self.config[&quot;doc&quot;]</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         return super()._get_doc()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.dev.DummyModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.dev.DummyModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The input schema for the <code>dummy</code> module is created at object creation time from the <code>input_schemas</code> config parameter.</p>

        <details class="quote">
          <summary>Source code in <code>core/dev.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;The input schema for the ``dummy`` module is created at object creation time from the ``input_schemas`` config parameter.&quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input_schema&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1"># type: ignore</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="o">**</span><span class="n">v</span><span class="p">)</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">validate_types</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.dev.DummyModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.dev.DummyModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The output schema for the <code>dummy</code> module is created at object creation time from the <code>output_schemas</code> config parameter.</p>

        <details class="quote">
          <summary>Source code in <code>core/dev.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ValueSchema</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;The output schema for the ``dummy`` module is created at object creation time from the ``output_schemas`` config parameter.&quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;output_schema&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1"># type: ignore</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="n">ValueSchema</span><span class="p">(</span><span class="o">**</span><span class="n">v</span><span class="p">)</span>
        <span class="n">schema</span><span class="o">.</span><span class="n">validate_types</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.dev.DummyModule.process" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span></code>


<a href="#kiara_modules.core.dev.DummyModule.process" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns the hardcoded output values that are set in the <code>outputs</code> config field.</p>
<p>Optionally, this module can simulate processing by waiting a configured amount of time (seconds -- specified in the <code>delay</code> config parameter).</p>

        <details class="quote">
          <summary>Source code in <code>core/dev.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the hardcoded output values that are set in the ``outputs`` config field.</span>

<span class="sd">    Optionally, this module can simulate processing by waiting a configured amount of time (seconds -- specified in the ``delay`` config parameter).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delay&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

    <span class="n">output_values</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputs&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="n">value_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_names</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">output_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">output_values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
            <span class="c1"># v = self.output_schemas[output_name].type_obj.fake_value()</span>
            <span class="c1"># value_dict[output_name] = v</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value_dict</span><span class="p">[</span><span class="n">output_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_values</span><span class="p">[</span><span class="n">output_name</span><span class="p">]</span>
    <span class="n">outputs</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="o">**</span><span class="n">value_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.dev.DummyProcessingModuleConfig" class="doc doc-heading">
        <code>
DummyProcessingModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.dev.DummyProcessingModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Configuration for the 'dummy' processing module.</p>

        <details class="quote">
          <summary>Source code in <code>core/dev.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DummyProcessingModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Configuration for the &#39;dummy&#39; processing module.&quot;&quot;&quot;</span>

    <span class="n">documentation</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">input_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The input schema for this module.&quot;</span>
    <span class="p">)</span>
    <span class="n">output_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The output schema for this module.&quot;</span>
    <span class="p">)</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The (dummy) output for this module.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">delay</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The delay in seconds from processing start to when the (dummy) outputs are returned.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.dev.DummyProcessingModuleConfig.delay" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delay</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.delay" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The delay in seconds from processing start to when the (dummy) outputs are returned.</p>
    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.dev.DummyProcessingModuleConfig.input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The input schema for this module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.dev.DummyProcessingModuleConfig.output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The output schema for this module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.dev.DummyProcessingModuleConfig.outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.dev.DummyProcessingModuleConfig.outputs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The (dummy) output for this module.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.dict" class="doc doc-heading">
        <code>dict</code>



<a href="#kiara_modules.core.dict" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.dict.SaveDictModule" class="doc doc-heading">
        <code>
SaveDictModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.dict.SaveDictModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/dict.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SaveDictModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">JsonSerializationConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;dict&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="kn">import</span> <span class="nn">orjson</span>

        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;options&quot;</span><span class="p">)</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">)</span>
        <span class="n">json_str</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(),</span> <span class="n">option</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

        <span class="n">bp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>
        <span class="n">bp</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">full_path</span> <span class="o">=</span> <span class="n">bp</span> <span class="o">/</span> <span class="n">file_name</span>
        <span class="n">full_path</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;generic.restore_from_json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
                <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;value_item&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.dict.SaveDictModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.dict.SaveDictModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/dict.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="kn">import</span> <span class="nn">orjson</span>

    <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;options&quot;</span><span class="p">)</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">)</span>
    <span class="n">json_str</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(),</span> <span class="n">option</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

    <span class="n">bp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>
    <span class="n">bp</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">full_path</span> <span class="o">=</span> <span class="n">bp</span> <span class="o">/</span> <span class="n">file_name</span>
    <span class="n">full_path</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;generic.restore_from_json&quot;</span><span class="p">,</span>
        <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;value_item&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.file" class="doc doc-heading">
        <code>file</code>



<a href="#kiara_modules.core.file" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.file.DefaultFileImportModule" class="doc doc-heading">
        <code>
DefaultFileImportModule            (<a title="kiara.operations.data_import.FileImportModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/data_import/#kiara.operations.data_import.FileImportModule">FileImportModule</a>)
        </code>



<a href="#kiara_modules.core.file.DefaultFileImportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import an external file into a kiara session.</p>

        <details class="quote">
          <summary>Source code in <code>core/file.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DefaultFileImportModule</span><span class="p">(</span><span class="n">FileImportModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import an external file into a kiara session.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;import&quot;</span>

    <span class="k">def</span> <span class="nf">import_from__file_path__string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraFile</span><span class="p">:</span>

        <span class="n">file_model</span> <span class="o">=</span> <span class="n">KiaraFile</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">file_model</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.file.LoadLocalFileModule" class="doc doc-heading">
        <code>
LoadLocalFileModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.file.LoadLocalFileModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Load a file and its metadata.</p>
<p>This module does not read or load the content of a file, but contains the path to the local representation/version of the
file so it can be read by a subsequent process.</p>

        <details class="quote">
          <summary>Source code in <code>core/file.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoadLocalFileModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load a file and its metadata.</span>

<span class="sd">    This module does not read or load the content of a file, but contains the path to the local representation/version of the</span>
<span class="sd">    file so it can be read by a subsequent process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># _config_cls = ImportLocalPathConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;load&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the base directory where the file is stored.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the file within the base directory.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A representation of the original file content in the kiara data registry.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;rel_path&quot;</span><span class="p">)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>

        <span class="n">file_model</span> <span class="o">=</span> <span class="n">KiaraFile</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">file_model</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.file.LoadLocalFileModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.file.LoadLocalFileModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/file.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the base directory where the file is stored.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the file within the base directory.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.file.LoadLocalFileModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.file.LoadLocalFileModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/file.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A representation of the original file content in the kiara data registry.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.file.StoreFileTypeModule" class="doc doc-heading">
        <code>
StoreFileTypeModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.file.StoreFileTypeModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Save a file to disk.</p>

        <details class="quote">
          <summary>Source code in <code>core/file.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreFileTypeModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save a file to disk.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;file&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="n">file_obj</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">file_name</span>
        <span class="n">full_target</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_target</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">full_target</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t save file, path already exists: </span><span class="si">{</span><span class="n">full_target</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">fm</span> <span class="o">=</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="n">full_target</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;file.load&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">file_name</span><span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">load_config</span><span class="p">,</span> <span class="n">fm</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.file.StoreFileTypeModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.file.StoreFileTypeModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/file.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="n">file_obj</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

    <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">file_name</span>
    <span class="n">full_target</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_target</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">full_target</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t save file, path already exists: </span><span class="si">{</span><span class="n">full_target</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">fm</span> <span class="o">=</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="n">full_target</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;file.load&quot;</span><span class="p">,</span>
        <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">file_name</span><span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">load_config</span><span class="p">,</span> <span class="n">fm</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.file_bundle" class="doc doc-heading">
        <code>file_bundle</code>



<a href="#kiara_modules.core.file_bundle" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.file_bundle.DefaultFileBundleImportModule" class="doc doc-heading">
        <code>
DefaultFileBundleImportModule            (<a title="kiara.operations.data_import.FileBundleImportModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/data_import/#kiara.operations.data_import.FileBundleImportModule">FileBundleImportModule</a>)
        </code>



<a href="#kiara_modules.core.file_bundle.DefaultFileBundleImportModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Import a file bundle into the kiara data store.</p>
<p>This module will support multiple source types and profiles in the future, but at the moment only import from
local folder is supported. Thus, requiring the config value 'local' for 'source_profile', and 'folder_path' for 'source_type'.</p>

        <details class="quote">
          <summary>Source code in <code>core/file_bundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DefaultFileBundleImportModule</span><span class="p">(</span><span class="n">FileBundleImportModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Import a file bundle into the kiara data store.</span>

<span class="sd">    This module will support multiple source types and profiles in the future, but at the moment only import from</span>
<span class="sd">    local folder is supported. Thus, requiring the config value &#39;local&#39; for &#39;source_profile&#39;, and &#39;folder_path&#39; for &#39;source_type&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;import&quot;</span>

    <span class="k">def</span> <span class="nf">import_from__folder_path__string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraFileBundle</span><span class="p">:</span>

        <span class="n">file_bundle_model</span> <span class="o">=</span> <span class="n">KiaraFileBundle</span><span class="o">.</span><span class="n">import_folder</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">file_bundle_model</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.file_bundle.LoadFileBundleModule" class="doc doc-heading">
        <code>
LoadFileBundleModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.file_bundle.LoadFileBundleModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Load a file bundle and its metadata.</p>
<p>This module does not read or load the content of all included files, but contains the path to the local representation/version of them
so they can be read by a subsequent process.</p>

        <details class="quote">
          <summary>Source code in <code>core/file_bundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoadFileBundleModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load a file bundle and its metadata.</span>

<span class="sd">    This module does not read or load the content of all included files, but contains the path to the local representation/version of them</span>
<span class="sd">    so they can be read by a subsequent process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;load&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The base path where the folder lives.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the folder, within the base path location.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;include_files&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A list of strings, include all files where the filename ends with one of those strings.</span><span class="se">\n\n</span><span class="s2">Only full string matches are supported at the moment, globs and regex might be in the future.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;exclude_dirs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A list of strings, exclude all folders whose name ends with that string. Defaults to: </span><span class="si">{</span><span class="n">DEFAULT_EXCLUDE_DIRS</span><span class="si">}</span><span class="s2">.</span><span class="se">\n\n</span><span class="s2">Only full string matches are supported at the moment, globs and regex might be in the future.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DEFAULT_EXCLUDE_DIRS</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;exclude_files&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A list of strings, exclude all files that end with that one of those strings (takes precedence over &#39;include_files&#39;). Defaults to: </span><span class="si">{</span><span class="n">DEFAULT_EXCLUDE_FILES</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Only full string matches are supported at the moment, globs and regex might be in the future.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DEFAULT_EXCLUDE_FILES</span><span class="p">,</span>
                <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;file_bundle&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file_bundle&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The collection of files contained in the bundle.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;rel_path&quot;</span><span class="p">)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>

        <span class="n">included_files</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;include_files&quot;</span><span class="p">)</span>
        <span class="n">excluded_dirs</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;exclude_dirs&quot;</span><span class="p">)</span>
        <span class="n">excluded_files</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;exclude_files&quot;</span><span class="p">)</span>

        <span class="n">import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">(</span>
            <span class="n">include_files</span><span class="o">=</span><span class="n">included_files</span><span class="p">,</span>
            <span class="n">exclude_dirs</span><span class="o">=</span><span class="n">excluded_dirs</span><span class="p">,</span>
            <span class="n">excluded_files</span><span class="o">=</span><span class="n">excluded_files</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">bundle</span> <span class="o">=</span> <span class="n">KiaraFileBundle</span><span class="o">.</span><span class="n">import_folder</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">import_config</span><span class="o">=</span><span class="n">import_config</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="n">file_bundle</span><span class="o">=</span><span class="n">bundle</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.file_bundle.LoadFileBundleModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.file_bundle.LoadFileBundleModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/file_bundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The base path where the folder lives.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path of the folder, within the base path location.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;include_files&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A list of strings, include all files where the filename ends with one of those strings.</span><span class="se">\n\n</span><span class="s2">Only full string matches are supported at the moment, globs and regex might be in the future.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;exclude_dirs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A list of strings, exclude all folders whose name ends with that string. Defaults to: </span><span class="si">{</span><span class="n">DEFAULT_EXCLUDE_DIRS</span><span class="si">}</span><span class="s2">.</span><span class="se">\n\n</span><span class="s2">Only full string matches are supported at the moment, globs and regex might be in the future.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DEFAULT_EXCLUDE_DIRS</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;exclude_files&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;A list of strings, exclude all files that end with that one of those strings (takes precedence over &#39;include_files&#39;). Defaults to: </span><span class="si">{</span><span class="n">DEFAULT_EXCLUDE_FILES</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Only full string matches are supported at the moment, globs and regex might be in the future.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DEFAULT_EXCLUDE_FILES</span><span class="p">,</span>
            <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.file_bundle.LoadFileBundleModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.file_bundle.LoadFileBundleModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/file_bundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;file_bundle&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file_bundle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The collection of files contained in the bundle.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.file_bundle.StoreFileBundleType" class="doc doc-heading">
        <code>
StoreFileBundleType            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.file_bundle.StoreFileBundleType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Save a file bundle to disk.</p>

        <details class="quote">
          <summary>Source code in <code>core/file_bundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreFileBundleType</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save a file bundle to disk.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;file_bundle&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="n">bundle</span><span class="p">:</span> <span class="n">KiaraFileBundle</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">bundle_name</span>

        <span class="n">target_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
        <span class="n">fb</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">copy_bundle</span><span class="p">(</span><span class="n">target_path</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># # the following changes the input value, which is usually not allowed, but the file_bundle type is a special case</span>
        <span class="c1"># bundle.included_files = fb.included_files</span>
        <span class="c1"># bundle.is_onboarded = True</span>
        <span class="c1"># bundle.path = fb.path</span>
        <span class="c1"># for path, f in bundle.included_files.items():</span>
        <span class="c1">#     f.is_onboarded = True</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;file_bundle.load&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">rel_path</span><span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;file_bundle&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">load_config</span><span class="p">,</span> <span class="n">fb</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.file_bundle.StoreFileBundleType.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.file_bundle.StoreFileBundleType.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/file_bundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Tuple</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="n">bundle</span><span class="p">:</span> <span class="n">KiaraFileBundle</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
    <span class="n">rel_path</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">bundle_name</span>

    <span class="n">target_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
    <span class="n">fb</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">copy_bundle</span><span class="p">(</span><span class="n">target_path</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># # the following changes the input value, which is usually not allowed, but the file_bundle type is a special case</span>
    <span class="c1"># bundle.included_files = fb.included_files</span>
    <span class="c1"># bundle.is_onboarded = True</span>
    <span class="c1"># bundle.path = fb.path</span>
    <span class="c1"># for path, f in bundle.included_files.items():</span>
    <span class="c1">#     f.is_onboarded = True</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;file_bundle.load&quot;</span><span class="p">,</span>
        <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">rel_path</span><span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;file_bundle&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">load_config</span><span class="p">,</span> <span class="n">fb</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.generic" class="doc doc-heading">
        <code>generic</code>



<a href="#kiara_modules.core.generic" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.generic.JsonSerializationConfig" class="doc doc-heading">
        <code>
JsonSerializationConfig            (<a title="kiara.operations.store_value.StoreValueModuleConfig" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueModuleConfig">StoreValueModuleConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.generic.JsonSerializationConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JsonSerializationConfig</span><span class="p">(</span><span class="n">StoreValueModuleConfig</span><span class="p">):</span>

    <span class="n">options</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The options to use for the json serialization. Check https://github.com/ijl/orjson#quickstart for details.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">orjson</span><span class="o">.</span><span class="n">OPT_NAIVE_UTC</span> <span class="o">|</span> <span class="n">orjson</span><span class="o">.</span><span class="n">OPT_SERIALIZE_NUMPY</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the serialized file.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;dict.json&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.generic.JsonSerializationConfig.file_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.generic.JsonSerializationConfig.file_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the serialized file.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.generic.JsonSerializationConfig.options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">options</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.generic.JsonSerializationConfig.options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The options to use for the json serialization. Check https://github.com/ijl/orjson#quickstart for details.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.generic.RestoreFromJsonDictModule" class="doc doc-heading">
        <code>
RestoreFromJsonDictModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.generic.RestoreFromJsonDictModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestoreFromJsonDictModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;restore_from_json&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The folder that contains the serialized dict.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The file name of the serialized dict.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The deserialized dict value.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">)</span>

        <span class="n">full_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">full_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t deserialize dict, path to file does not exist: </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">full_path</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t deserialize dict, path is not a file: </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">full_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_item&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.generic.RestoreFromJsonDictModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.generic.RestoreFromJsonDictModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The folder that contains the serialized dict.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The file name of the serialized dict.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.generic.RestoreFromJsonDictModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.generic.RestoreFromJsonDictModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The deserialized dict value.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.generic.RestoreScalarModule" class="doc doc-heading">
        <code>
RestoreScalarModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.generic.RestoreScalarModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Utility module, only used internally.</p>

        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestoreScalarModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Utility module, only used internally.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;restore_scalar&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">RestoreScalarModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;scalar_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The scalar value.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The loaded item.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="s2">&quot;scalar_data&quot;</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_item&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.generic.RestoreScalarModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.generic.RestoreScalarModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;scalar_data&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The scalar value.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.generic.RestoreScalarModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.generic.RestoreScalarModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The loaded item.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.generic.RestoreScalarModuleConfig" class="doc doc-heading">
        <code>
RestoreScalarModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.generic.RestoreScalarModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestoreScalarModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value type of the scalar to load.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.generic.RestoreScalarModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.generic.RestoreScalarModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The value type of the scalar to load.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.generic.StoreScalarModule" class="doc doc-heading">
        <code>
StoreScalarModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.generic.StoreScalarModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreScalarModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;string&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;generic.restore_scalar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)},</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;scalar_data&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;value_item&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.generic.StoreScalarModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.generic.StoreScalarModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;generic.restore_scalar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)},</span>
        <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;scalar_data&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;value_item&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.generic.StoreScalarModuleConfig" class="doc doc-heading">
        <code>
StoreScalarModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.generic.StoreScalarModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/generic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreScalarModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value type of the scalar to store.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.generic.StoreScalarModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.generic.StoreScalarModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The value type of the scalar to store.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.json" class="doc doc-heading">
        <code>json</code>



<a href="#kiara_modules.core.json" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.json.ToJsonModuleOld" class="doc doc-heading">
        <code>
ToJsonModuleOld            (<a title="kiara.modules.type_conversion.OldTypeConversionModule" href="https://dharpa.org/kiara/latest/reference/kiara/modules/type_conversion/#kiara.modules.type_conversion.OldTypeConversionModule">OldTypeConversionModule</a>)
        </code>



<a href="#kiara_modules.core.json.ToJsonModuleOld" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convert arbitrary types into json.</p>
<p>Very early days for this module, it doesn't support a lot of types yet.</p>

        <details class="quote">
          <summary>Source code in <code>core/json.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ToJsonModuleOld</span><span class="p">(</span><span class="n">OldTypeConversionModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert arbitrary types into json.</span>

<span class="sd">    Very early days for this module, it doesn&#39;t support a lot of types yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;to_json&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_source_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">JSON_SUPPORTED_SOURCE_TYPES</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_target_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">input_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">input_value_str</span> <span class="o">=</span> <span class="n">convert_to_json</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">input_value</span><span class="p">,</span> <span class="n">convert_config</span><span class="o">=</span><span class="n">config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">input_value_str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.list" class="doc doc-heading">
        <code>list</code>



<a href="#kiara_modules.core.list" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.list.IncludedInListCheckModule" class="doc doc-heading">
        <code>
IncludedInListCheckModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.list.IncludedInListCheckModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Check whether an element is in a list.</p>

        <details class="quote">
          <summary>Source code in <code>core/list.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">IncludedInListCheckModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check whether an element is in a list.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;contains&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The list.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;any&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The element to check for inclusion in the list.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;is_included&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Whether the element is in the list, or not.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">item_list</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;is_included&quot;</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">item_list</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.list.IncludedInListCheckModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.list.IncludedInListCheckModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/list.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The list.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;any&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The element to check for inclusion in the list.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.list.IncludedInListCheckModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.list.IncludedInListCheckModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/list.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;is_included&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Whether the element is in the list, or not.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.list.StoreDictModule" class="doc doc-heading">
        <code>
StoreDictModule            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.list.StoreDictModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/list.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreDictModule</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">JsonSerializationConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;list&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="kn">import</span> <span class="nn">orjson</span>

        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;options&quot;</span><span class="p">)</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">)</span>
        <span class="n">json_str</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(),</span> <span class="n">option</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

        <span class="n">bp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>
        <span class="n">bp</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">full_path</span> <span class="o">=</span> <span class="n">bp</span> <span class="o">/</span> <span class="n">file_name</span>
        <span class="n">full_path</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

        <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;generic.restore_from_json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
                <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;value_item&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.list.StoreDictModule.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.list.StoreDictModule.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/list.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="kn">import</span> <span class="nn">orjson</span>

    <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;options&quot;</span><span class="p">)</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">)</span>
    <span class="n">json_str</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(),</span> <span class="n">option</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

    <span class="n">bp</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>
    <span class="n">bp</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">full_path</span> <span class="o">=</span> <span class="n">bp</span> <span class="o">/</span> <span class="n">file_name</span>
    <span class="n">full_path</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

    <span class="n">load_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;generic.restore_from_json&quot;</span><span class="p">,</span>
        <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">base_path</span><span class="p">,</span>
            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;file_name&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;value_item&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">load_config</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.logic" class="doc doc-heading">
        <code>logic</code>



<a href="#kiara_modules.core.logic" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.logic.AndModule" class="doc doc-heading">
        <code>
AndModule            (<span title="kiara_modules.core.logic.LogicProcessingModule">LogicProcessingModule</span>)
        </code>



<a href="#kiara_modules.core.logic.AndModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns 'True' if both inputs are 'True'.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AndModule</span><span class="p">(</span><span class="n">LogicProcessingModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns &#39;True&#39; if both inputs are &#39;True&#39;.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing the module output state.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">delay</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
            <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.AndModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.AndModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.AndModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.AndModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing the module output state.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.logic.LogicProcessingModuleConfig" class="doc doc-heading">
        <code>
LogicProcessingModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.logic.LogicProcessingModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Config class for all the 'logic'-related modules.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LogicProcessingModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for all the &#39;logic&#39;-related modules.&quot;&quot;&quot;</span>

    <span class="n">delay</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;the delay in seconds from processing start to when the output is returned.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.logic.LogicProcessingModuleConfig.delay" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delay</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.logic.LogicProcessingModuleConfig.delay" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>the delay in seconds from processing start to when the output is returned.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.logic.NotModule" class="doc doc-heading">
        <code>
NotModule            (<span title="kiara_modules.core.logic.LogicProcessingModule">LogicProcessingModule</span>)
        </code>



<a href="#kiara_modules.core.logic.NotModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Negates the input.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NotModule</span><span class="p">(</span><span class="n">LogicProcessingModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Negates the input.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The not module only has one input, a boolean that will be negated by the module.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="sd">&quot;&quot;&quot;The output of this module is a single boolean, the negated input.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing the module output state.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Negates the input boolean.&quot;&quot;&quot;</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delay&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="ow">not</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.NotModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.NotModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The not module only has one input, a boolean that will be negated by the module.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;The not module only has one input, a boolean that will be negated by the module.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.NotModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.NotModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The output of this module is a single boolean, the negated input.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="sd">&quot;&quot;&quot;The output of this module is a single boolean, the negated input.&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing the module output state.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.NotModule.process" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.NotModule.process" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Negates the input boolean.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Negates the input boolean.&quot;&quot;&quot;</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delay&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

    <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="ow">not</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.logic.OrModule" class="doc doc-heading">
        <code>
OrModule            (<span title="kiara_modules.core.logic.LogicProcessingModule">LogicProcessingModule</span>)
        </code>



<a href="#kiara_modules.core.logic.OrModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns 'True' if one of the inputs is 'True'.</p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OrModule</span><span class="p">(</span><span class="n">LogicProcessingModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns &#39;True&#39; if one of the inputs is &#39;True&#39;.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing the module output state.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delay&quot;</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.OrModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.OrModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing this input state.&quot;</span><span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.logic.OrModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.logic.OrModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/logic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A boolean describing the module output state.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.metadata_models" class="doc doc-heading">
        <code>metadata_models</code>



<a href="#kiara_modules.core.metadata_models" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>This module contains the metadata models that are used in the <code>kiara_modules.core</code> package.</p>
<p>Metadata models are convenience wrappers that make it easier for <em>kiara</em> to find, create, manage and version metadata that
is attached to data, as well as <em>kiara</em> modules. It is possible to register metadata using a JSON schema string, but
it is recommended to create a metadata model, because it is much easier overall.</p>
<p>Metadata models must be a sub-class of <a href="https://dharpa.org/kiara/latest/reference/kiara/metadata/__init__/#kiara.metadata.MetadataModel">kiara.metadata.MetadataModel</a>.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.ArrayMetadata" class="doc doc-heading">
        <code>
ArrayMetadata            (<span title="kiara.metadata.core_models.HashedMetadataModel">HashedMetadataModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.ArrayMetadata" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Describes properties fo the 'array' type.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArrayMetadata</span><span class="p">(</span><span class="n">HashedMetadataModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties fo the &#39;array&#39; type.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;array&quot;</span>

    <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The number of elements the array contains.&quot;</span><span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Total number of bytes consumed by the elements of the array.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_obj_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.metadata.array&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.ArrayMetadata.length" class="doc doc-heading">
<code class="highlight language-python"><span class="n">length</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.ArrayMetadata.length" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The number of elements the array contains.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.ArrayMetadata.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.ArrayMetadata.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Total number of bytes consumed by the elements of the array.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.ColumnSchema" class="doc doc-heading">
        <code>
ColumnSchema            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.ColumnSchema" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Describes properties of a single column of the 'table' data type.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ColumnSchema</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties of a single column of the &#39;table&#39; data type.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;column&quot;</span>

    <span class="n">type_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The type name of the column (backend-specific).&quot;</span>
    <span class="p">)</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Other metadata for the column.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.ColumnSchema.metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.ColumnSchema.metadata" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Other metadata for the column.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.ColumnSchema.type_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">type_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.ColumnSchema.type_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The type name of the column (backend-specific).</p>
    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.FolderImportConfig" class="doc doc-heading">
        <code>
FolderImportConfig            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.FolderImportConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FolderImportConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>

    <span class="n">include_files</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of strings, include all files where the filename ends with that string.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">exclude_dirs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A list of strings, exclude all folders whose name ends with that string.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">exclude_files</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;A list of strings, exclude all files that match those (takes precedence over &#39;include_files&#39;). Defaults to: </span><span class="si">{</span><span class="n">DEFAULT_EXCLUDE_FILES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">DEFAULT_EXCLUDE_FILES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.FolderImportConfig.exclude_dirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exclude_dirs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.FolderImportConfig.exclude_dirs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A list of strings, exclude all folders whose name ends with that string.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.FolderImportConfig.exclude_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exclude_files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.FolderImportConfig.exclude_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A list of strings, exclude all files that match those (takes precedence over 'include_files'). Defaults to: ['.DS_Store'].</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.FolderImportConfig.include_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">include_files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.FolderImportConfig.include_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A list of strings, include all files where the filename ends with that string.</p>
    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.KiaraDatabase" class="doc doc-heading">
        <code>
KiaraDatabase            (<a title="kiara.metadata.MetadataModel" href="https://dharpa.org/kiara/latest/reference/kiara/metadata/__init__/#kiara.metadata.MetadataModel">MetadataModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabase" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraDatabase</span><span class="p">(</span><span class="n">MetadataModel</span><span class="p">):</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;database&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_in_temp_dir</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">init_sql</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

        <span class="n">temp_f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
        <span class="n">db_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_f</span><span class="p">,</span> <span class="s2">&quot;db.sqlite&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">db_path</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

        <span class="n">db</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">db_file_path</span><span class="o">=</span><span class="n">db_path</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">create_if_not_exists</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">init_sql</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">execute_sql</span><span class="p">(</span><span class="n">sql_script</span><span class="o">=</span><span class="n">init_sql</span><span class="p">,</span> <span class="n">invalidate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">db</span>

    <span class="n">db_file_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The path to the sqlite database file.&quot;</span><span class="p">)</span>
    <span class="n">_cached_engine</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_cached_inspector</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_table_names</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_table_schemas</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_file_path</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.metadata.database&quot;</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;db_file_path&quot;</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">ensure_absolute_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parent folder for database file does not exist: </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">db_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;sqlite:///</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">db_file_path</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">get_sqlalchemy_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Engine&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_engine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_engine</span>

        <span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_url</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># with self._cached_engine.connect() as con:</span>
        <span class="c1">#     con.execute(text(&quot;PRAGMA query_only = ON&quot;))</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_engine</span>

    <span class="k">def</span> <span class="nf">create_if_not_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="kn">from</span> <span class="nn">sqlalchemy_utils</span> <span class="kn">import</span> <span class="n">create_database</span><span class="p">,</span> <span class="n">database_exists</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">database_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_url</span><span class="p">):</span>
            <span class="n">create_database</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sql_script</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">invalidate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute an sql script.</span>

<span class="sd">        Arguments:</span>
<span class="sd">          sql_script: the sql script</span>
<span class="sd">          invalidate: whether to invalidate cached values within this object</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_if_not_exists</span><span class="p">()</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">()</span><span class="o">.</span><span class="n">raw_connection</span><span class="p">()</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">executescript</span><span class="p">(</span><span class="n">sql_script</span><span class="p">)</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">invalidate</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cached_inspector</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_table_names</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">copy_database_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">target</span><span class="p">))</span>

        <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_file_path</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>

        <span class="n">new_db</span> <span class="o">=</span> <span class="n">KiaraDatabase</span><span class="p">(</span><span class="n">db_file_path</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_db</span>

    <span class="k">def</span> <span class="nf">get_sqlalchemy_inspector</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Inspector&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_inspector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_inspector</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_inspector</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">())</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cached_inspector</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">table_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_names</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_table_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sqlalchemy_inspector</span><span class="p">()</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_names</span>

    <span class="k">def</span> <span class="nf">get_schema_for_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">table_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t get table schema, database does not contain table with name &#39;</span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span><span class="p">[</span><span class="n">table_name</span><span class="p">]</span>

        <span class="n">ts</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">inspector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sqlalchemy_inspector</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">tn</span> <span class="ow">in</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">():</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sqlalchemy_inspector</span><span class="p">()</span><span class="o">.</span><span class="n">get_columns</span><span class="p">(</span><span class="n">tn</span><span class="p">)</span>
            <span class="n">ts</span><span class="p">[</span><span class="n">tn</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
                <span class="n">ts</span><span class="p">[</span><span class="n">tn</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">c</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span> <span class="o">=</span> <span class="n">ts</span>
        <span class="k">if</span> <span class="n">table_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t get table schema, database does not contain table with name &#39;</span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span><span class="p">[</span><span class="n">table_name</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraDatabase.db_file_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">db_file_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabase.db_file_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The path to the sqlite database file.</p>
    </div>

  </div>














  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraDatabase.execute_sql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">execute_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sql_script</span><span class="p">,</span> <span class="n">invalidate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#kiara_modules.core.metadata_models.KiaraDatabase.execute_sql" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute an sql script.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sql_script</code></td>
        <td><code>str</code></td>
        <td><p>the sql script</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>invalidate</code></td>
        <td><code>bool</code></td>
        <td><p>whether to invalidate cached values within this object</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">execute_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sql_script</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">invalidate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute an sql script.</span>

<span class="sd">    Arguments:</span>
<span class="sd">      sql_script: the sql script</span>
<span class="sd">      invalidate: whether to invalidate cached values within this object</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">create_if_not_exists</span><span class="p">()</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">()</span><span class="o">.</span><span class="n">raw_connection</span><span class="p">()</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">executescript</span><span class="p">(</span><span class="n">sql_script</span><span class="p">)</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">invalidate</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cached_inspector</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_table_names</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_table_schemas</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.KiaraDatabaseInfo" class="doc doc-heading">
        <code>
KiaraDatabaseInfo            (<span title="kiara.metadata.core_models.HashedMetadataModel">HashedMetadataModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraDatabaseInfo</span><span class="p">(</span><span class="n">HashedMetadataModel</span><span class="p">):</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;database_info&quot;</span>

    <span class="n">table_names</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The names of all tables in this database.&quot;</span>
    <span class="p">)</span>
    <span class="n">view_names</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The names of all views in this database.&quot;</span>
    <span class="p">)</span>
    <span class="n">tables</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TableMetadata</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Information about the tables within this database.&quot;</span>
    <span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of the database file.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_obj_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;table_names&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_names</span><span class="p">,</span>
            <span class="s2">&quot;view_names&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_names</span><span class="p">,</span>
            <span class="s2">&quot;tables&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.metadata.database_info&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraDatabaseInfo.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The size of the database file.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraDatabaseInfo.table_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">table_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.table_names" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The names of all tables in this database.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraDatabaseInfo.tables" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara_modules</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata_models</span><span class="o">.</span><span class="n">TableMetadata</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.tables" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Information about the tables within this database.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraDatabaseInfo.view_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">view_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraDatabaseInfo.view_names" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The names of all views in this database.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.KiaraFile" class="doc doc-heading">
        <code>
KiaraFile            (<a title="kiara.metadata.MetadataModel" href="https://dharpa.org/kiara/latest/reference/kiara/metadata/__init__/#kiara.metadata.MetadataModel">MetadataModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Describes properties for the 'file' value type.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraFile</span><span class="p">(</span><span class="n">MetadataModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties for the &#39;file&#39; value type.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">load_file</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">target</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">incl_orig_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Utility method to read metadata of a file from disk and optionally move it into a data archive location.&quot;&quot;&quot;</span>

        <span class="kn">import</span> <span class="nn">mimetypes</span>

        <span class="kn">import</span> <span class="nn">filetype</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a file: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">orig_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">orig_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">file_import_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>  <span class="c1"># TODO: timezone</span>

        <span class="n">file_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">orig_path</span><span class="p">)</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">file_stats</span><span class="o">.</span><span class="n">st_size</span>

        <span class="k">if</span> <span class="n">target</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target path exists: </span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">target</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">orig_path</span>

        <span class="n">r</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mime_type</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_mime_type</span> <span class="o">=</span> <span class="n">filetype</span><span class="o">.</span><span class="n">guess</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">_mime_type</span><span class="p">:</span>
                <span class="n">mime_type</span> <span class="o">=</span> <span class="s2">&quot;application/octet-stream&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mime_type</span> <span class="o">=</span> <span class="n">_mime_type</span><span class="o">.</span><span class="n">MIME</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_orig_path</span><span class="p">:</span>
            <span class="n">_orig_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_orig_path</span> <span class="o">=</span> <span class="n">orig_path</span>

        <span class="n">m</span> <span class="o">=</span> <span class="n">KiaraFile</span><span class="p">(</span>
            <span class="n">orig_filename</span><span class="o">=</span><span class="n">orig_filename</span><span class="p">,</span>
            <span class="n">orig_path</span><span class="o">=</span><span class="n">_orig_path</span><span class="p">,</span>
            <span class="n">import_time</span><span class="o">=</span><span class="n">file_import_time</span><span class="p">,</span>
            <span class="n">mime_type</span><span class="o">=</span><span class="n">mime_type</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">orig_filename</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">m</span>

    <span class="n">_file_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">orig_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The original filename of this file at the time of import.&quot;</span>
    <span class="p">)</span>
    <span class="n">orig_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The original path to this file at the time of import.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">import_time</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The time when the file was imported.&quot;</span><span class="p">)</span>
    <span class="n">mime_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The mime type of the file.&quot;</span><span class="p">)</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;The name of the file.&quot;</span><span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of the file.&quot;</span><span class="p">)</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive path of the file.&quot;</span><span class="p">)</span>
    <span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the file is imported into the kiara data store.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.metadata.file&quot;</span>

    <span class="k">def</span> <span class="nf">copy_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">incl_orig_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">):</span>

        <span class="n">fm</span> <span class="o">=</span> <span class="n">KiaraFile</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">incl_orig_path</span><span class="p">:</span>
            <span class="n">fm</span><span class="o">.</span><span class="n">orig_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orig_path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fm</span><span class="o">.</span><span class="n">orig_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">fm</span><span class="o">.</span><span class="n">orig_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orig_filename</span>
        <span class="n">fm</span><span class="o">.</span><span class="n">import_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_time</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fm</span><span class="o">.</span><span class="n">_file_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

        <span class="n">fm</span><span class="o">.</span><span class="n">is_onboarded</span> <span class="o">=</span> <span class="n">is_onboarded</span>

        <span class="k">return</span> <span class="n">fm</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

        <span class="n">sha256_hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha3_256</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="c1"># Read and update hash string value in blocks of 4K</span>
            <span class="k">for</span> <span class="n">byte_block</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">4096</span><span class="p">),</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
                <span class="n">sha256_hash</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">byte_block</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span> <span class="o">=</span> <span class="n">sha256_hash</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_hash</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_name_without_extension</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">import_time_as_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>

        <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">import_time</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">as_str</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">max_lines</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Read the content of a file.&quot;&quot;&quot;</span>

        <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span> <span class="k">if</span> <span class="n">as_str</span> <span class="k">else</span> <span class="s2">&quot;rb&quot;</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">max_lines</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_lines</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FileMetadata(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.import_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_time</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.import_time" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The time when the file was imported.</p>
    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.is_onboarded" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.is_onboarded" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether the file is imported into the kiara data store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.mime_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mime_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.mime_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The mime type of the file.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.orig_filename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">orig_filename</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.orig_filename" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The original filename of this file at the time of import.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.orig_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">orig_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.orig_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The original path to this file at the time of import.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The archive path of the file.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The size of the file.</p>
    </div>

  </div>








  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.__repr__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return repr(self).</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FileMetadata(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return str(self).</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.load_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_file</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">incl_orig_path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFile.load_file" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Utility method to read metadata of a file from disk and optionally move it into a data archive location.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">load_file</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">incl_orig_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Utility method to read metadata of a file from disk and optionally move it into a data archive location.&quot;&quot;&quot;</span>

    <span class="kn">import</span> <span class="nn">mimetypes</span>

    <span class="kn">import</span> <span class="nn">filetype</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a file: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">orig_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="n">orig_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="n">file_import_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>  <span class="c1"># TODO: timezone</span>

    <span class="n">file_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">orig_path</span><span class="p">)</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">file_stats</span><span class="o">.</span><span class="n">st_size</span>

    <span class="k">if</span> <span class="n">target</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target path exists: </span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">target</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">orig_path</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">mimetypes</span><span class="o">.</span><span class="n">guess_type</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mime_type</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_mime_type</span> <span class="o">=</span> <span class="n">filetype</span><span class="o">.</span><span class="n">guess</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_mime_type</span><span class="p">:</span>
            <span class="n">mime_type</span> <span class="o">=</span> <span class="s2">&quot;application/octet-stream&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mime_type</span> <span class="o">=</span> <span class="n">_mime_type</span><span class="o">.</span><span class="n">MIME</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_orig_path</span><span class="p">:</span>
        <span class="n">_orig_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_orig_path</span> <span class="o">=</span> <span class="n">orig_path</span>

    <span class="n">m</span> <span class="o">=</span> <span class="n">KiaraFile</span><span class="p">(</span>
        <span class="n">orig_filename</span><span class="o">=</span><span class="n">orig_filename</span><span class="p">,</span>
        <span class="n">orig_path</span><span class="o">=</span><span class="n">_orig_path</span><span class="p">,</span>
        <span class="n">import_time</span><span class="o">=</span><span class="n">file_import_time</span><span class="p">,</span>
        <span class="n">mime_type</span><span class="o">=</span><span class="n">mime_type</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
        <span class="n">file_name</span><span class="o">=</span><span class="n">orig_filename</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraFile.read_content" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_lines</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>


<a href="#kiara_modules.core.metadata_models.KiaraFile.read_content" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Read the content of a file.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_content</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">as_str</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">max_lines</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Read the content of a file.&quot;&quot;&quot;</span>

    <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span> <span class="k">if</span> <span class="n">as_str</span> <span class="k">else</span> <span class="s2">&quot;rb&quot;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">max_lines</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_lines</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.KiaraFileBundle" class="doc doc-heading">
        <code>
KiaraFileBundle            (<a title="kiara.metadata.MetadataModel" href="https://dharpa.org/kiara/latest/reference/kiara/metadata/__init__/#kiara.metadata.MetadataModel">MetadataModel</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Describes properties for the 'file_bundle' value type.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KiaraFileBundle</span><span class="p">(</span><span class="n">MetadataModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties for the &#39;file_bundle&#39; value type.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;file_bundle&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">import_folder</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">target</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">import_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span>
            <span class="kc">None</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">FolderImportConfig</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">incl_orig_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">source</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No source path provided.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path does not exist: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">source</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a file: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">target</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target path already exists: </span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">target</span> <span class="ow">and</span> <span class="n">target</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">):</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">import_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">import_config</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="n">_import_config</span> <span class="o">=</span> <span class="n">FolderImportConfig</span><span class="p">(</span><span class="o">**</span><span class="n">import_config</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">import_config</span><span class="p">,</span> <span class="n">FolderImportConfig</span><span class="p">):</span>
            <span class="n">_import_config</span> <span class="o">=</span> <span class="n">import_config</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type for folder import config: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">import_config</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">included_files</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraFile</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">exclude_dirs</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">exclude_dirs</span>
        <span class="n">invalid_extensions</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">exclude_files</span>

        <span class="n">valid_extensions</span> <span class="o">=</span> <span class="n">_import_config</span><span class="o">.</span><span class="n">include_files</span>

        <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">def</span> <span class="nf">include_file</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">invalid_extensions</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span>
                <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">invalid_extensions</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_extensions</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ext</span><span class="p">)</span> <span class="k">for</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">valid_extensions</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">exclude_dirs</span><span class="p">:</span>
                <span class="n">dirnames</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirnames</span> <span class="k">if</span> <span class="n">d</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude_dirs</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">f</span>
                <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filenames</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span> <span class="ow">and</span> <span class="n">include_file</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="p">]:</span>

                <span class="n">full_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">full_path</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">target_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">target_path</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="n">file_model</span> <span class="o">=</span> <span class="n">KiaraFile</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span>
                    <span class="n">full_path</span><span class="p">,</span> <span class="n">target_path</span><span class="p">,</span> <span class="n">incl_orig_path</span><span class="o">=</span><span class="n">incl_orig_path</span>
                <span class="p">)</span>
                <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">file_model</span><span class="o">.</span><span class="n">size</span>
                <span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_model</span>

        <span class="n">orig_bundle_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">incl_orig_path</span><span class="p">:</span>
            <span class="n">orig_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">orig_path</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">target</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">source</span>

        <span class="k">return</span> <span class="n">KiaraFileBundle</span><span class="o">.</span><span class="n">create_from_file_models</span><span class="p">(</span>
            <span class="n">files</span><span class="o">=</span><span class="n">included_files</span><span class="p">,</span>
            <span class="n">orig_bundle_name</span><span class="o">=</span><span class="n">orig_bundle_name</span><span class="p">,</span>
            <span class="n">orig_path</span><span class="o">=</span><span class="n">orig_path</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
            <span class="n">sum_size</span><span class="o">=</span><span class="n">sum_size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_file_models</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">files</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraFile</span><span class="p">],</span>
        <span class="n">orig_bundle_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">orig_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">sum_size</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;included_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>

        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;orig_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">orig_path</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;import_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;number_of_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;bundle_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">])</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;orig_bundle_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">orig_bundle_name</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;is_onboarded&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">is_onboarded</span>

        <span class="k">if</span> <span class="n">sum_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sum_size</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">sum_size</span> <span class="o">=</span> <span class="n">sum_size</span> <span class="o">+</span> <span class="n">f</span><span class="o">.</span><span class="n">size</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_size</span>

        <span class="k">return</span> <span class="n">KiaraFileBundle</span><span class="p">(</span><span class="o">**</span><span class="n">result</span><span class="p">)</span>

    <span class="n">_file_bundle_hash</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="n">orig_bundle_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The original name of this folder at the time of import.&quot;</span>
    <span class="p">)</span>
    <span class="n">bundle_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of this bundle.&quot;</span><span class="p">)</span>
    <span class="n">orig_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The original path to this folder at the time of import.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">import_time</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The time when the file was imported.&quot;</span><span class="p">)</span>
    <span class="n">number_of_files</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;How many files are included in this bundle.&quot;</span>
    <span class="p">)</span>
    <span class="n">included_files</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">KiaraFile</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map of all the included files, incl. their properties. Uses the relative path of each file as key.&quot;</span>
    <span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The size of all files in this folder, combined.&quot;</span><span class="p">)</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The archive path of the folder.&quot;</span><span class="p">)</span>
    <span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether this bundle is imported into the kiara data store.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.metadata.file_bundle&quot;</span>

    <span class="k">def</span> <span class="nf">get_relative_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">KiaraFile</span><span class="p">):</span>

        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_text_file_contents</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

        <span class="n">content_dict</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">rel_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fm</span><span class="p">:</span> <span class="n">KiaraFile</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fm</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                    <span class="n">content_dict</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span>  <span class="c1"># type: ignore</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ignore_errors</span><span class="p">:</span>
                        <span class="n">log_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t read file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ignoring file: </span><span class="si">{</span><span class="n">fm</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t read file (as text) &#39;</span><span class="si">{</span><span class="n">fm</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: common ignore files and folders</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">rel_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_relative_path</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="n">read_file</span><span class="p">(</span><span class="n">rel_path</span><span class="o">=</span><span class="n">rel_path</span><span class="p">,</span> <span class="n">fm</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">content_dict</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">file_bundle_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

        <span class="c1"># hash_format =&quot;sha3-256&quot;</span>

        <span class="n">hashes</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">fm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="p">[</span><span class="n">path</span><span class="p">]</span>
            <span class="n">hashes</span> <span class="o">=</span> <span class="n">hashes</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">fm</span><span class="o">.</span><span class="n">file_hash</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha3_256</span><span class="p">(</span><span class="n">hashes</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

    <span class="k">def</span> <span class="nf">copy_bundle</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">target_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">incl_orig_path</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;KiaraFileBundle&quot;</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">target_path</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target path and current path are the same: </span><span class="si">{</span><span class="n">target_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">rel_path</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">_target_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
            <span class="n">new_fm</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="n">_target_path</span><span class="p">,</span> <span class="n">is_onboarded</span><span class="o">=</span><span class="n">is_onboarded</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_fm</span>

        <span class="k">if</span> <span class="n">incl_orig_path</span><span class="p">:</span>
            <span class="n">orig_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orig_path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">orig_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">fb</span> <span class="o">=</span> <span class="n">KiaraFileBundle</span><span class="o">.</span><span class="n">create_from_file_models</span><span class="p">(</span>
            <span class="n">result</span><span class="p">,</span>
            <span class="n">orig_bundle_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orig_bundle_name</span><span class="p">,</span>
            <span class="n">orig_path</span><span class="o">=</span><span class="n">orig_path</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">target_path</span><span class="p">,</span>
            <span class="n">sum_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">is_onboarded</span><span class="o">=</span><span class="n">is_onboarded</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fb</span><span class="o">.</span><span class="n">_file_bundle_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_bundle_hash</span>

        <span class="k">return</span> <span class="n">fb</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FileBundle(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">bundle_name</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.bundle_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bundle_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.bundle_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of this bundle.</p>
    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.import_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_time</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.import_time" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The time when the file was imported.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.included_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">included_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara_modules</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata_models</span><span class="o">.</span><span class="n">KiaraFile</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.included_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A map of all the included files, incl. their properties. Uses the relative path of each file as key.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.is_onboarded" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_onboarded</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.is_onboarded" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether this bundle is imported into the kiara data store.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.number_of_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">number_of_files</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.number_of_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>How many files are included in this bundle.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.orig_bundle_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">orig_bundle_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.orig_bundle_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The original name of this folder at the time of import.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.orig_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">orig_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.orig_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The original path to this folder at the time of import.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The archive path of the folder.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The size of all files in this folder, combined.</p>
    </div>

  </div>








  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.__repr__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return repr(self).</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FileBundle(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">bundle_name</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.metadata_models.KiaraFileBundle.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.KiaraFileBundle.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return str(self).</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.metadata_models.TableMetadata" class="doc doc-heading">
        <code>
TableMetadata            (<span title="kiara.metadata.core_models.HashedMetadataModel">HashedMetadataModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.TableMetadata" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Describes properties for the 'table' data type.</p>

        <details class="quote">
          <summary>Source code in <code>core/metadata_models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TableMetadata</span><span class="p">(</span><span class="n">HashedMetadataModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Describes properties for the &#39;table&#39; data type.&quot;&quot;&quot;</span>

    <span class="n">_metadata_key</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span>

    <span class="n">column_names</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the columns of the table.&quot;</span>
    <span class="p">)</span>
    <span class="n">column_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ColumnSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The schema description of the table.&quot;</span>
    <span class="p">)</span>
    <span class="n">rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The number of rows the table contains.&quot;</span><span class="p">)</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The tables size in bytes.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_obj_to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;column_names&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_names</span><span class="p">,</span>
            <span class="s2">&quot;column_schemas&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
            <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_category_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;instance.metadata.table&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.TableMetadata.column_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">column_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.TableMetadata.column_names" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the columns of the table.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.TableMetadata.column_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">column_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">kiara_modules</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata_models</span><span class="o">.</span><span class="n">ColumnSchema</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.TableMetadata.column_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The schema description of the table.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.TableMetadata.rows" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rows</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.TableMetadata.rows" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The number of rows the table contains.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.metadata_models.TableMetadata.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.metadata_models.TableMetadata.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The tables size in bytes.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.pipelines" class="doc doc-heading">
        <code>pipelines</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.pipelines" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Virtual module that is used as base for <a href="https://dharpa.org/kiara/latest/reference/kiara/pipeline/module/#kiara.pipeline.module.PipelineModule">PipelineModule</a> classes that are auto-generated
from pipeline descriptions under this folder.</p>



  <div class="doc doc-children">













  </div>

    </div>

  </div>




  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.string" class="doc doc-heading">
        <code>string</code>



<a href="#kiara_modules.core.string" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.DeserializeStringModule" class="doc doc-heading">
        <code>
DeserializeStringModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.string.DeserializeStringModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DeserializeStringModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;deserialize&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">DeserializeStringModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;serialized&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The serialized form of the string.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The string data.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">serialization_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;serialization_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">serialization_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t deserialize string: serialisation type &#39;</span><span class="si">{</span><span class="n">serialization_type</span><span class="si">}</span><span class="s2">&#39; not supported.&quot;</span>
            <span class="p">)</span>

        <span class="n">serialized</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;serialized&quot;</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;value_item&quot;</span><span class="p">,</span> <span class="n">serialized</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.DeserializeStringModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.DeserializeStringModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;serialized&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The serialized form of the string.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.DeserializeStringModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.DeserializeStringModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;value_item&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The string data.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.DeserializeStringModuleConfig" class="doc doc-heading">
        <code>
DeserializeStringModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.string.DeserializeStringModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DeserializeStringModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">serialization_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The serialization type that was used to serialize the value.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.string.DeserializeStringModuleConfig.serialization_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serialization_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.string.DeserializeStringModuleConfig.serialization_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The serialization type that was used to serialize the value.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.RegexModule" class="doc doc-heading">
        <code>
RegexModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.string.RegexModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Match a string using a regular expression.</p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RegexModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Match a string using a regular expression.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">RegexModuleConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;match_regex&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The text to match.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;only_first_match&quot;</span><span class="p">):</span>
            <span class="n">output_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The first match.&quot;</span><span class="p">}}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">output_schema</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;regex&quot;</span><span class="p">)</span>
        <span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">matches</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No match for regex: </span><span class="si">{</span><span class="n">regex</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;only_first_match&quot;</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">matches</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.RegexModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.RegexModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The text to match.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.RegexModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.RegexModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;only_first_match&quot;</span><span class="p">):</span>
        <span class="n">output_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The first match.&quot;</span><span class="p">}}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">output_schema</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.RegexModuleConfig" class="doc doc-heading">
        <code>
RegexModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.string.RegexModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RegexModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The regex to apply.&quot;</span><span class="p">)</span>
    <span class="n">only_first_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to only return the first match, or all matches.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.string.RegexModuleConfig.only_first_match" class="doc doc-heading">
<code class="highlight language-python"><span class="n">only_first_match</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.string.RegexModuleConfig.only_first_match" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether to only return the first match, or all matches.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.string.RegexModuleConfig.regex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">regex</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.string.RegexModuleConfig.regex" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The regex to apply.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.ReplaceModuleConfig" class="doc doc-heading">
        <code>
ReplaceModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.string.ReplaceModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ReplaceModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">replacement_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A map, containing the strings to be replaced as keys, and the replacements as values.&quot;</span>
    <span class="p">)</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The default value to use if the string to be replaced is not in the replacement map. By default, this just returns the string itself.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.string.ReplaceModuleConfig.default_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_value</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.string.ReplaceModuleConfig.default_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The default value to use if the string to be replaced is not in the replacement map. By default, this just returns the string itself.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.string.ReplaceModuleConfig.replacement_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">replacement_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.string.ReplaceModuleConfig.replacement_map" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A map, containing the strings to be replaced as keys, and the replacements as values.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.ReplaceStringModule" class="doc doc-heading">
        <code>
ReplaceStringModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.string.ReplaceStringModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replace a string if it matches a key in a mapping dictionary.</p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ReplaceStringModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Replace a string if it matches a key in a mapping dictionary.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">ReplaceModuleConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;replace&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The input string.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The replaced string.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
        <span class="n">repl_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;replacement_map&quot;</span><span class="p">)</span>
        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">text</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">repl_map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">text</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">repl_map</span><span class="p">[</span><span class="n">text</span><span class="p">]</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.ReplaceStringModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.ReplaceStringModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The input string.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.ReplaceStringModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.ReplaceStringModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The replaced string.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.string.StringManipulationModule" class="doc doc-heading">
        <code>
StringManipulationModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.string.StringManipulationModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base module to simplify creating other modules that do string manipulation.</p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StringManipulationModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base module to simplify creating other modules that do string manipulation.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The input string.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The processed string.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="n">input_string</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_string</span><span class="p">(</span><span class="n">input_string</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">process_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">pass</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.StringManipulationModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.StringManipulationModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The input string.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.string.StringManipulationModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.string.StringManipulationModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/string.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The processed string.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>







  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.table" class="doc doc-heading">
        <code>table</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#kiara_modules.core.table" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.ConvertToTableModule" class="doc doc-heading">
        <code>
ConvertToTableModule            (<a title="kiara.operations.create_value.CreateValueModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/create_value/#kiara.operations.create_value.CreateValueModule">CreateValueModule</a>)
        </code>



<a href="#kiara_modules.core.table.ConvertToTableModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Create an Arrow table from files, file_bundles, etc.</p>
<p>This module supportes two conversion targets currently:</p>
<ul>
<li>bytes: a memoryview of the byte-representation of the Table</li>
<li>string: the base64-encoded byte-representation of the Table</li>
</ul>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ConvertToTableModule</span><span class="p">(</span><span class="n">CreateValueModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create an Arrow table from files, file_bundles, etc.</span>

<span class="sd">    This module supportes two conversion targets currently:</span>

<span class="sd">     - bytes: a memoryview of the byte-representation of the Table</span>
<span class="sd">     - string: the base64-encoded byte-representation of the Table</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;create&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">TableConversionModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_target_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;table&quot;</span>

    <span class="c1"># def to_bytes(self, value: Value) -&gt; bytes:</span>
    <span class="c1">#</span>
    <span class="c1">#     import pyarrow as pa</span>
    <span class="c1">#</span>
    <span class="c1">#     table_val: Value = value</span>
    <span class="c1">#     table: pa.Table = table_val.get_value_data()</span>
    <span class="c1">#</span>
    <span class="c1">#     batches = table.to_batches()</span>
    <span class="c1">#</span>
    <span class="c1">#     sink = pa.BufferOutputStream()</span>
    <span class="c1">#     writer = pa.ipc.new_stream(sink, batches[0].schema)</span>
    <span class="c1">#</span>
    <span class="c1">#     for batch in batches:</span>
    <span class="c1">#         writer.write_batch(batch)</span>
    <span class="c1">#     writer.close()</span>
    <span class="c1">#</span>
    <span class="c1">#     buf: pa.Buffer = sink.getvalue()</span>
    <span class="c1">#     return memoryview(buf)</span>
    <span class="c1">#</span>
    <span class="c1"># def to_string(self, value: Value):</span>
    <span class="c1">#</span>
    <span class="c1">#     _bytes: bytes = self.to_bytes(value)</span>
    <span class="c1">#     string = base64.b64encode(_bytes)</span>
    <span class="c1">#     return string.decode()</span>

    <span class="c1"># def from_bytes(self, value: Value):</span>
    <span class="c1">#     raise NotImplementedError()</span>
    <span class="c1">#</span>
    <span class="c1"># def from_string(self, value: Value):</span>
    <span class="c1">#     raise NotImplementedError()</span>

    <span class="k">def</span> <span class="nf">from_csv_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">):</span>

        <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">csv</span>

        <span class="n">input_file</span><span class="p">:</span> <span class="n">KiaraFile</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">imported_data</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">imported_data</span>

    <span class="k">def</span> <span class="nf">from_text_file_bundle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">bundle</span><span class="p">:</span> <span class="n">KiaraFileBundle</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">columns</span> <span class="o">=</span> <span class="n">FILE_BUNDLE_IMPORT_AVAILABLE_COLUMNS</span>

        <span class="n">ignore_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">)</span>
        <span class="n">file_dict</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">read_text_file_contents</span><span class="p">(</span><span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignore_errors</span><span class="p">)</span>

        <span class="n">tabular</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">rel_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">file_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>

                <span class="k">if</span> <span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span>
                    <span class="n">_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">file_dict</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
                    <span class="n">_value</span> <span class="o">=</span> <span class="n">index</span>
                <span class="k">elif</span> <span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span>
                    <span class="n">_value</span> <span class="o">=</span> <span class="n">rel_path</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">file_model</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="n">included_files</span><span class="p">[</span><span class="n">rel_path</span><span class="p">]</span>
                    <span class="n">_value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">file_model</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>

                <span class="n">tabular</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_value</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_pydict</span><span class="p">(</span><span class="n">tabular</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.CutColumnModule" class="doc doc-heading">
        <code>
CutColumnModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.CutColumnModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Cut off one column from a table, returning an array.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CutColumnModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Cut off one column from a table, returning an array.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;cut_column&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A table.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;column_name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The name of the column to extract.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The column.&quot;</span><span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table_value</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>

        <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
        <span class="n">available</span> <span class="o">=</span> <span class="n">table_value</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)[</span><span class="s2">&quot;table&quot;</span><span class="p">][</span><span class="s2">&quot;column_names&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">column_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid column name &#39;</span><span class="si">{</span><span class="n">column_name</span><span class="si">}</span><span class="s2">&#39;. Available column names: </span><span class="si">{</span><span class="n">available</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
        <span class="n">column</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.CutColumnModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.CutColumnModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;A table.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;column_name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The name of the column to extract.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.CutColumnModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.CutColumnModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The column.&quot;</span><span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.ExportArrowTable" class="doc doc-heading">
        <code>
ExportArrowTable            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.ExportArrowTable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Export a table object to disk.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExportArrowTable</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Export a table object to disk.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;export&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table object.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the file to write.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The format of the table file (&#39;feather&#39; or &#39;parquet&#39;).&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;force_overwrite&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Whether to overwrite an existing file.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The compression to use. Use either: &#39;zstd&#39; (default), &#39;lz4&#39;, or &#39;uncompressed&#39;.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;zstd&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;load_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;load_config&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The configuration to use with kiara to load the saved value.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
        <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
        <span class="n">full_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>
        <span class="n">force_overwrite</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;force_overwrite&quot;</span><span class="p">)</span>
        <span class="nb">format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;format&quot;</span><span class="p">)</span>
        <span class="n">compression</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">compression</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;zstd&quot;</span><span class="p">,</span> <span class="s2">&quot;lz4&quot;</span><span class="p">,</span> <span class="s2">&quot;uncompressed&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid compression format &#39;</span><span class="si">{</span><span class="n">compression</span><span class="si">}</span><span class="s2">&#39;. Allowed: &#39;zstd&#39;, &#39;lz4&#39;, &#39;uncompressed&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">format</span> <span class="o">!=</span> <span class="s2">&quot;feather&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t export table to format &#39;</span><span class="si">{</span><span class="nb">format</span><span class="si">}</span><span class="s2">&#39;: only &#39;feather&#39; supported at the moment.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_overwrite</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t write table to file, file already exists: </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">feather</span><span class="o">.</span><span class="n">write_feather</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">full_path</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="n">compression</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;table.load&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span>
                <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span>
                <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="nb">format</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;value_id&quot;</span><span class="p">:</span> <span class="n">NO_VALUE_ID_MARKER</span><span class="p">,</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;load_config&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.ExportArrowTable.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.ExportArrowTable.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table object.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the file to write.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The format of the table file (&#39;feather&#39; or &#39;parquet&#39;).&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;force_overwrite&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Whether to overwrite an existing file.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The compression to use. Use either: &#39;zstd&#39; (default), &#39;lz4&#39;, or &#39;uncompressed&#39;.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;zstd&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.ExportArrowTable.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.ExportArrowTable.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;load_config&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;load_config&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The configuration to use with kiara to load the saved value.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.LoadArrowTable" class="doc doc-heading">
        <code>
LoadArrowTable            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.LoadArrowTable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Load a table object from disk.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LoadArrowTable</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load a table object from disk.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;load&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the folder that contains the table file.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path to the table file within base_path.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The format of the table file (&#39;feather&#39; or &#39;parquet&#39;).&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The pyarrow table object.&quot;</span><span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>

        <span class="n">base_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;base_path&quot;</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;rel_path&quot;</span><span class="p">)</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;format&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">format</span> <span class="o">!=</span> <span class="s2">&quot;feather&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">feather</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.LoadArrowTable.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.LoadArrowTable.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The path to the folder that contains the table file.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The relative path to the table file within base_path.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The format of the table file (&#39;feather&#39; or &#39;parquet&#39;).&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.LoadArrowTable.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.LoadArrowTable.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The pyarrow table object.&quot;</span><span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.MapColumnModule" class="doc doc-heading">
        <code>
MapColumnModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.MapColumnModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Map the items of one column of a table onto an array, using another module.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MapColumnModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Map the items of one column of a table onto an array, using another module.&quot;&quot;&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">MapColumnsModuleConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;map_column&quot;</span>

    <span class="k">def</span> <span class="nf">module_instance_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="n">config</span><span class="p">:</span> <span class="n">MapColumnsModuleConfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>  <span class="c1"># type: ignore</span>

        <span class="n">module_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_type</span>
        <span class="n">module_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_config</span>

        <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;map_column_child&quot;</span><span class="p">,</span> <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
        <span class="p">)</span>
        <span class="n">type_md</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">full_doc</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get_url_for_reference</span><span class="p">(</span><span class="s2">&quot;module_doc&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
            <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``](</span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">)&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;Map the values of the rows of an input table onto a new array of the same length, using the </span><span class="si">{</span><span class="n">link_str</span><span class="si">}</span><span class="s2"> module.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">doc</span> <span class="ow">and</span> <span class="n">doc</span> <span class="o">!=</span> <span class="s2">&quot;-- n/a --&quot;</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">`` documentation:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">doc</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">KiaraModule</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">child_module</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KiaraModule</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span>

        <span class="n">module_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;module_type&quot;</span><span class="p">)</span>
        <span class="n">module_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;module_config&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span>
            <span class="n">module_type</span><span class="o">=</span><span class="n">module_name</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_module</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module_input_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;input_name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_names</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_names</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No &#39;input_name&#39; specified, and configured module has more than one inputs. Please specify an &#39;input_name&#39; value in your module config, pick one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_input_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">module_output_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;output_name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">output_names</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">output_names</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No &#39;output_name&#39; specified, and configured module has more than one outputs. Please specify an &#39;output_name&#39; value in your module config, pick one of: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">output_names</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_module_output_name</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
            <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to use as input.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;column_name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The name of the table column to run the mapping operation on.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_schemas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">assert</span> <span class="n">input_name</span> <span class="o">!=</span> <span class="s2">&quot;table&quot;</span>
            <span class="k">assert</span> <span class="n">input_name</span> <span class="o">!=</span> <span class="s2">&quot;column_name&quot;</span>
            <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;An array of equal length to the input array, containing the &#39;mapped&#39; values.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
        <span class="n">column_name</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">column_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">column_names</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Table column &#39;</span><span class="si">{</span><span class="n">column_name</span><span class="si">}</span><span class="s2">&#39; not available in table. Available columns: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">column_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">input_array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span>

        <span class="n">init_data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_schemas</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">]:</span>
                <span class="k">continue</span>

            <span class="n">init_data</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_obj</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>

        <span class="n">result_list</span> <span class="o">=</span> <span class="n">map_with_module</span><span class="p">(</span>
            <span class="n">input_array</span><span class="p">,</span>
            <span class="n">module_input_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">,</span>
            <span class="n">module_obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="p">,</span>
            <span class="n">init_data</span><span class="o">=</span><span class="n">init_data</span><span class="p">,</span>
            <span class="n">module_output_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module_output_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">result_list</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.MapColumnModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.MapColumnModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to use as input.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;column_name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The name of the table column to run the mapping operation on.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_module</span><span class="o">.</span><span class="n">input_schemas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">assert</span> <span class="n">input_name</span> <span class="o">!=</span> <span class="s2">&quot;table&quot;</span>
        <span class="k">assert</span> <span class="n">input_name</span> <span class="o">!=</span> <span class="s2">&quot;column_name&quot;</span>
        <span class="k">if</span> <span class="n">input_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_input_name</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">schema</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.MapColumnModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.MapColumnModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;array&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;An array of equal length to the input array, containing the &#39;mapped&#39; values.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.MapColumnModule.module_instance_doc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_instance_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.MapColumnModule.module_instance_doc" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return documentation for this instance of the module.</p>
<p>If not overwritten, will return this class' method <code>doc()</code>.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">module_instance_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">MapColumnsModuleConfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>  <span class="c1"># type: ignore</span>

    <span class="n">module_type</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_type</span>
    <span class="n">module_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">module_config</span>

    <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="o">.</span><span class="n">create_module</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;map_column_child&quot;</span><span class="p">,</span> <span class="n">module_type</span><span class="o">=</span><span class="n">module_type</span><span class="p">,</span> <span class="n">module_config</span><span class="o">=</span><span class="n">module_config</span>
    <span class="p">)</span>
    <span class="n">type_md</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">documentation</span><span class="o">.</span><span class="n">full_doc</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">type_md</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get_url_for_reference</span><span class="p">(</span><span class="s2">&quot;module_doc&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
        <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">link_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">``](</span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;Map the values of the rows of an input table onto a new array of the same length, using the </span><span class="si">{</span><span class="n">link_str</span><span class="si">}</span><span class="s2"> module.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">doc</span> <span class="ow">and</span> <span class="n">doc</span> <span class="o">!=</span> <span class="s2">&quot;-- n/a --&quot;</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">``</span><span class="si">{</span><span class="n">module_type</span><span class="si">}</span><span class="s2">`` documentation:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">doc</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.MapColumnsModuleConfig" class="doc doc-heading">
        <code>
MapColumnsModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.table.MapColumnsModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MapColumnsModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the kiara module to use to filter the input data.&quot;</span>
    <span class="p">)</span>
    <span class="n">module_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The config for the kiara filter module.&quot;</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span>
    <span class="p">)</span>
    <span class="n">input_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the input name of the module which will receive the rows from our input table. Can be omitted if the configured module only has a single input.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">output_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the output name of the module which will receive the items from our input array. Can be omitted if the configured module only has a single output.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.MapColumnsModuleConfig.input_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.MapColumnsModuleConfig.input_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the input name of the module which will receive the rows from our input table. Can be omitted if the configured module only has a single input.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.MapColumnsModuleConfig.module_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.MapColumnsModuleConfig.module_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The config for the kiara filter module.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.MapColumnsModuleConfig.module_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">module_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.table.MapColumnsModuleConfig.module_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the kiara module to use to filter the input data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.MapColumnsModuleConfig.output_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.MapColumnsModuleConfig.output_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The name of the output name of the module which will receive the items from our input array. Can be omitted if the configured module only has a single output.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.MergeTableModule" class="doc doc-heading">
        <code>
MergeTableModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.MergeTableModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Create a table from other tables and/or arrays.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MergeTableModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a table from other tables and/or arrays.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;merge&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">MergeTableModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">input_schema_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;input_schema&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">input_schema_dict</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The merged table, including all source tables and columns.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">input_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span>
            <span class="s2">&quot;input_schema&quot;</span>
        <span class="p">)</span>

        <span class="n">sources</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">sources</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>

        <span class="n">len_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">arrays</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">source_key</span><span class="p">,</span> <span class="n">table_or_column</span> <span class="ow">in</span> <span class="n">sources</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">table_or_column</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
                <span class="n">rows</span> <span class="o">=</span> <span class="n">table_or_column</span><span class="o">.</span><span class="n">num_rows</span>
                <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">table_or_column</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                    <span class="n">column</span> <span class="o">=</span> <span class="n">table_or_column</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                    <span class="n">arrays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
                    <span class="n">column_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">table_or_column</span><span class="p">,</span> <span class="p">(</span><span class="n">pa</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">ChunkedArray</span><span class="p">)):</span>
                <span class="n">rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_or_column</span><span class="p">)</span>
                <span class="n">arrays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table_or_column</span><span class="p">)</span>
                <span class="n">column_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">source_key</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t merge table: invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">table_or_column</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for source &#39;</span><span class="si">{</span><span class="n">source_key</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

            <span class="n">len_dict</span><span class="p">[</span><span class="n">source_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">rows</span>

        <span class="n">all_rows</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">source_key</span><span class="p">,</span> <span class="n">rows</span> <span class="ow">in</span> <span class="n">len_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">all_rows</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">all_rows</span> <span class="o">=</span> <span class="n">rows</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">all_rows</span> <span class="o">!=</span> <span class="n">rows</span><span class="p">:</span>
                    <span class="n">all_rows</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="n">all_rows</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">len_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">rows</span> <span class="ow">in</span> <span class="n">len_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">len_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">rows</span><span class="si">}</span><span class="s2">)&quot;</span>

            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t merge table, sources have different lengths:</span><span class="si">{</span><span class="n">len_str</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">(</span><span class="n">arrays</span><span class="o">=</span><span class="n">arrays</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">column_names</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.MergeTableModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.MergeTableModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">input_schema_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;input_schema&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">input_schema_dict</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.MergeTableModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.MergeTableModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The merged table, including all source tables and columns.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.MergeTableModuleConfig" class="doc doc-heading">
        <code>
MergeTableModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.table.MergeTableModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MergeTableModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">input_schema</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dict describing the inputs for this merge process.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.MergeTableModuleConfig.input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">input_schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.table.MergeTableModuleConfig.input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A dict describing the inputs for this merge process.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.SampleTableModule" class="doc doc-heading">
        <code>
SampleTableModule            (<a title="kiara.operations.sample.SampleValueModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/sample/#kiara.operations.sample.SampleValueModule">SampleValueModule</a>)
        </code>



<a href="#kiara_modules.core.table.SampleTableModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sample a table.</p>
<p>Samples are used to randomly select a subset of a dataset, which helps test queries and workflows on smaller versions
of the original data, to adjust parameters before a full run.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SampleTableModule</span><span class="p">(</span><span class="n">SampleValueModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sample a table.</span>

<span class="sd">    Samples are used to randomly select a subset of a dataset, which helps test queries and workflows on smaller versions</span>
<span class="sd">    of the original data, to adjust parameters before a full run.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;sample&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;table&quot;</span>

    <span class="c1"># def create_input_schema(</span>
    <span class="c1">#     self,</span>
    <span class="c1"># ) -&gt; typing.Mapping[</span>
    <span class="c1">#     str, typing.Union[ValueSchema, typing.Mapping[str, typing.Any]]</span>
    <span class="c1"># ]:</span>
    <span class="c1">#</span>
    <span class="c1">#     return {</span>
    <span class="c1">#         &quot;table&quot;: {&quot;type&quot;: &quot;table&quot;, &quot;doc&quot;: &quot;The table to sample data from.&quot;},</span>
    <span class="c1">#         &quot;sample_size&quot;: {</span>
    <span class="c1">#             &quot;type&quot;: &quot;integer&quot;,</span>
    <span class="c1">#             &quot;doc&quot;: &quot;The percentage or number of rows to sample (depending on &#39;sample_unit&#39; input).&quot;,</span>
    <span class="c1">#         }</span>
    <span class="c1">#     }</span>
    <span class="c1">#</span>
    <span class="c1"># def create_output_schema(</span>
    <span class="c1">#     self,</span>
    <span class="c1"># ) -&gt; typing.Mapping[</span>
    <span class="c1">#     str, typing.Union[ValueSchema, typing.Mapping[str, typing.Any]]</span>
    <span class="c1"># ]:</span>
    <span class="c1">#</span>
    <span class="c1">#     return {&quot;sampled_table&quot;: {&quot;type&quot;: &quot;table&quot;, &quot;doc&quot;: &quot;A sampled table.&quot;}}</span>

    <span class="k">def</span> <span class="nf">sample_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">duckdb</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span>

        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM data USING SAMPLE </span><span class="si">{</span><span class="n">sample_size</span><span class="si">}</span><span class="s2"> PERCENT (bernoulli);&quot;</span>

        <span class="n">rel_from_arrow</span> <span class="o">=</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">DuckDBPyResult</span> <span class="o">=</span> <span class="n">rel_from_arrow</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>

        <span class="n">result_table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetch_arrow_table</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result_table</span>

    <span class="k">def</span> <span class="nf">sample_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">duckdb</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">table</span>

        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SELECT * FROM data USING SAMPLE </span><span class="si">{</span><span class="n">sample_size</span><span class="si">}</span><span class="s2">;&quot;</span>

        <span class="n">rel_from_arrow</span> <span class="o">=</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">DuckDBPyResult</span> <span class="o">=</span> <span class="n">rel_from_arrow</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>

        <span class="n">result_table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetch_arrow_table</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result_table</span>

    <span class="k">def</span> <span class="nf">sample_rows_from_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">table</span>

        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sample_rows_to_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">sample_size</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">table</span>

        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">)</span> <span class="o">-</span> <span class="n">sample_size</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.SampleTableModule.get_value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_value_type</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.table.SampleTableModule.get_value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the value type for this sample module.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_value_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;table&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.SaveArrowTableConfig" class="doc doc-heading">
        <code>
SaveArrowTableConfig            (<a title="kiara.operations.store_value.StoreValueModuleConfig" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueModuleConfig">StoreValueModuleConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.table.SaveArrowTableConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SaveArrowTableConfig</span><span class="p">(</span><span class="n">StoreValueModuleConfig</span><span class="p">):</span>

    <span class="n">compression</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The compression to use when saving the table.&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;zstd&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.SaveArrowTableConfig.compression" class="doc doc-heading">
<code class="highlight language-python"><span class="n">compression</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.SaveArrowTableConfig.compression" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The compression to use when saving the table.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.StoreArrowTable" class="doc doc-heading">
        <code>
StoreArrowTable            (<a title="kiara.operations.store_value.StoreValueTypeModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/store_value/#kiara.operations.store_value.StoreValueTypeModule">StoreValueTypeModule</a>)
        </code>



<a href="#kiara_modules.core.table.StoreArrowTable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreArrowTable</span><span class="p">(</span><span class="n">StoreValueTypeModule</span><span class="p">):</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">SaveArrowTableConfig</span>
    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;store&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="s2">&quot;table&quot;</span>

    <span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
        <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">full_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">DEFAULT_SAVE_TABLE_FILE_NAME</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">full_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t save table, file already exists: </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">compression</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">)</span>

        <span class="n">feather</span><span class="o">.</span><span class="n">write_feather</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">full_path</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="n">compression</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;table.load&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span>
                <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span>
                <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.table.StoreArrowTable.store_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.StoreArrowTable.store_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save the value, and return the load config needed to load it again.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

    <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
    <span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>

    <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
    <span class="n">full_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">DEFAULT_SAVE_TABLE_FILE_NAME</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">full_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t save table, file already exists: </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">compression</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">)</span>

    <span class="n">feather</span><span class="o">.</span><span class="n">write_feather</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">full_path</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="n">compression</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;table.load&quot;</span><span class="p">,</span>
        <span class="s2">&quot;base_path_input_name&quot;</span><span class="p">:</span> <span class="s2">&quot;base_path&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;base_path&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span>
            <span class="s2">&quot;rel_path&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;feather&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;output_name&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.TableConversionModuleConfig" class="doc doc-heading">
        <code>
TableConversionModuleConfig            (<a title="kiara.operations.create_value.CreateValueModuleConfig" href="https://dharpa.org/kiara/latest/reference/kiara/operations/create_value/#kiara.operations.create_value.CreateValueModuleConfig">CreateValueModuleConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.table.TableConversionModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TableConversionModuleConfig</span><span class="p">(</span><span class="n">CreateValueModuleConfig</span><span class="p">):</span>

    <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether to ignore convert errors and omit the failed items.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.table.TableConversionModuleConfig.ignore_errors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.TableConversionModuleConfig.ignore_errors" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether to ignore convert errors and omit the failed items.</p>
    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.table.TableMetadataModule" class="doc doc-heading">
        <code>
TableMetadataModule            (<a title="kiara.operations.extract_metadata.ExtractMetadataModule" href="https://dharpa.org/kiara/latest/reference/kiara/operations/extract_metadata/#kiara.operations.extract_metadata.ExtractMetadataModule">ExtractMetadataModule</a>)
        </code>



<a href="#kiara_modules.core.table.TableMetadataModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract metadata from a table object.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TableMetadataModule</span><span class="p">(</span><span class="n">ExtractMetadataModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract metadata from a table object.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;metadata&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;table&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_metadata_key</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;table&quot;</span>

    <span class="k">def</span> <span class="nf">_get_metadata_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="n">TableMetadata</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">table_schema</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">md</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">metadata</span>
            <span class="n">_type</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">type</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">md</span><span class="p">:</span>
                <span class="n">md</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;arrow_type_id&quot;</span><span class="p">:</span> <span class="n">_type</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="n">_d</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;type_name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">_type</span><span class="p">),</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">md</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">table_schema</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">_d</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;column_names&quot;</span><span class="p">:</span> <span class="n">table</span><span class="o">.</span><span class="n">column_names</span><span class="p">,</span>
            <span class="s2">&quot;column_schema&quot;</span><span class="p">:</span> <span class="n">table_schema</span><span class="p">,</span>
            <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="n">table</span><span class="o">.</span><span class="n">num_rows</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">table</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h3 id="kiara_modules.core.table.filter" class="doc doc-heading">
        <code>filter</code>



<a href="#kiara_modules.core.table.filter" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.table.filter.CreateFilteredTableModule" class="doc doc-heading">
        <code>
CreateFilteredTableModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.filter.CreateFilteredTableModule" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Filter a table using a mask array.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/filter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CreateFilteredTableModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Filter a table using a mask array.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;with_mask&quot;</span>

    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">TableFilterModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to filter.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;mask&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;An mask array of booleans of the same length as the table.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The filtered table.&quot;</span><span class="p">}}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">input_table</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
        <span class="n">filter_array</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;mask&quot;</span><span class="p">)</span>

        <span class="n">filtered</span> <span class="o">=</span> <span class="n">input_table</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">filter_array</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">filtered</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.table.filter.CreateFilteredTableModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.filter.CreateFilteredTableModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/filter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to filter.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;mask&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;An mask array of booleans of the same length as the table.&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.table.filter.CreateFilteredTableModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.filter.CreateFilteredTableModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/filter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The filtered table.&quot;</span><span class="p">}}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara_modules.core.table.query" class="doc doc-heading">
        <code>query</code>



<a href="#kiara_modules.core.table.query" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.table.query.QueryTableGraphQL" class="doc doc-heading">
        <code>
QueryTableGraphQL            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.query.QueryTableGraphQL" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute a graphql aggregation query against an (Arrow) table.</p>
<div class="admonition references">
<p class="admonition-title">References</p>
<ul>
<li>https://vaex.io/docs/example_graphql.html</li>
</ul>
</div>

<p><strong>Examples:</strong></p>
    <p>An example for a query could be:</p>
<div class="codehilite"><pre><span></span><code>{
  df(where: {
    Language: {_eq: &quot;German&quot;}
  } ) {

    row(limit: 10) {
      Label
      City
    }
  }
}
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">QueryTableGraphQL</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute a graphql aggregation query against an (Arrow) table.</span>

<span class="sd">    References:</span>
<span class="sd">        - https://vaex.io/docs/example_graphql.html</span>

<span class="sd">    Examples:</span>
<span class="sd">        An example for a query could be:</span>

<span class="sd">            {</span>
<span class="sd">              df(where: {</span>
<span class="sd">                Language: {_eq: &quot;German&quot;}</span>
<span class="sd">              } ) {</span>

<span class="sd">                row(limit: 10) {</span>
<span class="sd">                  Label</span>
<span class="sd">                  City</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">            }</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;graphql&quot;</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to query.&quot;</span><span class="p">},</span>
            <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query.&quot;</span><span class="p">},</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;query_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query result.&quot;</span><span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">vaex</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">vaex</span><span class="o">.</span><span class="n">from_arrow_table</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">graphql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;query_result&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.table.query.QueryTableGraphQL.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.query.QueryTableGraphQL.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to query.&quot;</span><span class="p">},</span>
        <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query.&quot;</span><span class="p">},</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.table.query.QueryTableGraphQL.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.query.QueryTableGraphQL.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;query_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query result.&quot;</span><span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.table.query.QueryTableSQL" class="doc doc-heading">
        <code>
QueryTableSQL            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.table.query.QueryTableSQL" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute a sql query against an (Arrow) table.</p>

        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">QueryTableSQL</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute a sql query against an (Arrow) table.&quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;sql&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">QueryTableSQLModuleConfig</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to query&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inputs</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query.&quot;</span><span class="p">}</span>
            <span class="n">inputs</span><span class="p">[</span><span class="s2">&quot;relation_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The name the table is referred to in the sql query.&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;query_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query result.&quot;</span><span class="p">}}</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">duckdb</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>
            <span class="n">_relation_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;relation_name&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span>
            <span class="n">_relation_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;relation_name&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">_relation_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">in</span> <span class="n">RESERVED_SQL_KEYWORDS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid relation name &#39;</span><span class="si">{</span><span class="n">_relation_name</span><span class="si">}</span><span class="s2">&#39;: this is a reserved sql keyword, please select a different name.&quot;</span>
            <span class="p">)</span>

        <span class="n">_table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
        <span class="n">rel_from_arrow</span> <span class="o">=</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">_table</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">duckdb</span><span class="o">.</span><span class="n">DuckDBPyResult</span> <span class="o">=</span> <span class="n">rel_from_arrow</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">_relation_name</span><span class="p">,</span> <span class="n">_query</span><span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;query_result&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">fetch_arrow_table</span><span class="p">())</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.table.query.QueryTableSQL.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.query.QueryTableSQL.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The table to query&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">inputs</span><span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query.&quot;</span><span class="p">}</span>
        <span class="n">inputs</span><span class="p">[</span><span class="s2">&quot;relation_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The name the table is referred to in the sql query.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="kiara_modules.core.table.query.QueryTableSQL.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.query.QueryTableSQL.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;query_result&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;The query result.&quot;</span><span class="p">}}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="kiara_modules.core.table.query.QueryTableSQLModuleConfig" class="doc doc-heading">
        <code>
QueryTableSQLModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.table.query.QueryTableSQLModuleConfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/table/query.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">QueryTableSQLModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">query</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The query to execute. If not specified, the user will be able to provide their own.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">relation_name</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name the table is referred to in the sql query. If not specified, the user will be able to provide their own.&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.table.query.QueryTableSQLModuleConfig.query" class="doc doc-heading">
<code class="highlight language-python"><span class="n">query</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.query.QueryTableSQLModuleConfig.query" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The query to execute. If not specified, the user will be able to provide their own.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="kiara_modules.core.table.query.QueryTableSQLModuleConfig.relation_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">relation_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

<a href="#kiara_modules.core.table.query.QueryTableSQLModuleConfig.relation_name" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The name the table is referred to in the sql query. If not specified, the user will be able to provide their own.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="kiara_modules.core.table.utils" class="doc doc-heading">
        <code>utils</code>



<a href="#kiara_modules.core.table.utils" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h4 id="kiara_modules.core.table.utils.create_sqlite_schema_data_from_arrow_table" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_sqlite_schema_data_from_arrow_table</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_column_info</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#kiara_modules.core.table.utils.create_sqlite_schema_data_from_arrow_table" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a sql schema statement from an Arrow table object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>table</code></td>
        <td><code>pa.Table</code></td>
        <td><p>the Arrow table object</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>column_map</code></td>
        <td><code>Optional[Mapping[str, str]]</code></td>
        <td><p>a map that contains column names that should be changed in the new table</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>index_columns</code></td>
        <td><code>Optional[Iterable[str]]</code></td>
        <td><p>a list of column names (after mapping) to create module_indexes for</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra_column_info</code></td>
        <td><code>Optional[Mapping[str, Iterable[str]]]</code></td>
        <td><p>a list of extra schema instructions per column name (after mapping)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>core/table/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_sqlite_schema_data_from_arrow_table</span><span class="p">(</span>
    <span class="n">table</span><span class="p">:</span> <span class="s2">&quot;pa.Table&quot;</span><span class="p">,</span>
    <span class="n">column_map</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">index_columns</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_column_info</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span>
        <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SqliteTableSchema</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a sql schema statement from an Arrow table object.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        table: the Arrow table object</span>
<span class="sd">        column_map: a map that contains column names that should be changed in the new table</span>
<span class="sd">        index_columns: a list of column names (after mapping) to create module_indexes for</span>
<span class="sd">        extra_column_info: a list of extra schema instructions per column name (after mapping)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">columns</span> <span class="o">=</span> <span class="n">convert_arrow_column_types_to_sqlite</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">column_map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">column_map</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">extra_column_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">extra_column_info</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">temp</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">index_columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">index_columns</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">columns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">column_map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">new_key</span> <span class="o">=</span> <span class="n">column_map</span><span class="p">[</span><span class="n">cn</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_key</span> <span class="o">=</span> <span class="n">cn</span>
        <span class="n">temp_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">new_key</span> <span class="ow">in</span> <span class="n">extra_column_info</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">temp_data</span><span class="p">[</span><span class="s2">&quot;extra_column_info&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">extra_column_info</span><span class="p">[</span><span class="n">new_key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">temp_data</span><span class="p">[</span><span class="s2">&quot;extra_column_info&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">index_columns</span><span class="p">:</span>
            <span class="n">temp_data</span><span class="p">[</span><span class="s2">&quot;create_index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">temp</span><span class="p">[</span><span class="n">new_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_data</span>

    <span class="n">columns</span> <span class="o">=</span> <span class="n">temp</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Resulting table schema has no columns.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ic</span> <span class="ow">in</span> <span class="n">index_columns</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ic</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">columns</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Can&#39;t create schema, requested index column name not available: </span><span class="si">{</span><span class="n">ic</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

    <span class="k">return</span> <span class="n">SqliteTableSchema</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">column_map</span><span class="o">=</span><span class="n">column_map</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.value" class="doc doc-heading">
        <code>value</code>



<a href="#kiara_modules.core.value" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value.DataProfilerModule" class="doc doc-heading">
        <code>
DataProfilerModule            (<a title="kiara.module.KiaraModule" href="https://dharpa.org/kiara/latest/reference/kiara/module/#kiara.module.KiaraModule">KiaraModule</a>)
        </code>



<a href="#kiara_modules.core.value.DataProfilerModule" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Generate a data profile report for a dataset.</p>
<p>This uses the <a href="https://capitalone.github.io/DataProfiler/docs/0.7.0/html/index.html">DataProfiler</a> Python library,
check out its documentation for more details.</p>

        <details class="quote">
          <summary>Source code in <code>core/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataProfilerModule</span><span class="p">(</span><span class="n">KiaraModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generate a data profile report for a dataset.</span>

<span class="sd">    This uses the [DataProfiler](https://capitalone.github.io/DataProfiler/docs/0.7.0/html/index.html) Python library,</span>
<span class="sd">    check out its documentation for more details.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;data_profile&quot;</span>
    <span class="n">_config_cls</span> <span class="o">=</span> <span class="n">DataProfilerModuleConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

        <span class="n">supported_source_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">]</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">documentation</span>
        <span class="n">all_profiles</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="n">supported_source_types</span><span class="p">:</span>

            <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
                <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">sup_type</span><span class="p">},</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">all_profiles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;profile.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">.data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

        <span class="k">return</span> <span class="n">all_profiles</span>

    <span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
                <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> to profile.&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">inputs</span>

    <span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
    <span class="p">]:</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;report&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Statistics/details about the dataset.&quot;</span><span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">ValueSet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>
        <span class="kn">from</span> <span class="nn">dataprofiler</span> <span class="kn">import</span> <span class="n">Data</span><span class="p">,</span> <span class="n">Profiler</span><span class="p">,</span> <span class="n">ProfilerOptions</span><span class="p">,</span> <span class="n">set_verbosity</span>

        <span class="n">set_verbosity</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>

        <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>

        <span class="n">profile_options</span> <span class="o">=</span> <span class="n">ProfilerOptions</span><span class="p">()</span>
        <span class="n">profile_options</span><span class="o">.</span><span class="n">structured_options</span><span class="o">.</span><span class="n">data_labeler</span><span class="o">.</span><span class="n">is_enabled</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">profile_options</span><span class="o">.</span><span class="n">unstructured_options</span><span class="o">.</span><span class="n">data_labeler</span><span class="o">.</span><span class="n">is_enabled</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;table&quot;</span><span class="p">:</span>
            <span class="n">table_item</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>
            <span class="n">pd</span> <span class="o">=</span> <span class="n">table_item</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
            <span class="n">profile</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span>
                <span class="n">pd</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">profile_options</span>
            <span class="p">)</span>  <span class="c1"># Calculate Statistics, Entity Recognition, etc</span>
            <span class="n">report</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span>
            <span class="n">file_item</span><span class="p">:</span> <span class="n">KiaraFile</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">file_item</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
            <span class="n">profile</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">profile_options</span><span class="p">)</span>
            <span class="n">report</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">KiaraProcessingException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Data profiling of value type &#39;</span><span class="si">{</span><span class="n">value_type</span><span class="si">}</span><span class="s2">&#39; not supported.&quot;</span>
            <span class="p">)</span>

        <span class="n">outputs</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="s2">&quot;report&quot;</span><span class="p">,</span> <span class="n">report</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value.DataProfilerModule.create_input_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_input_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value.DataProfilerModule.create_input_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the input schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[input_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this input]",
          "optional*': [boolean whether this input is optional or required (defaults to 'False')]
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_input_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">inputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="s1">&#39;value_type&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> to profile.&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">inputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value.DataProfilerModule.create_output_schema" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value.DataProfilerModule.create_output_schema" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Abstract method to implement by child classes, returns a description of the output schema of this module.</p>
<p>If returning a dictionary of dictionaries, the format of the return value is as follows (items with '*' are optional):</p>
<p><code>{
      "[output_field_name]: {
          "type": "[value_type]",
          "doc*": "[a description of this output]"
      "[other_input_field_name]: {
          "type: ...
          ...
      }</code></p>

        <details class="quote">
          <summary>Source code in <code>core/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_output_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span>
    <span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">ValueSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>
<span class="p">]:</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;report&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dict&quot;</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;Statistics/details about the dataset.&quot;</span><span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value.DataProfilerModule.retrieve_module_profiles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">retrieve_module_profiles</span><span class="p">(</span><span class="n">kiara</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value.DataProfilerModule.retrieve_module_profiles" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a collection of profiles (pre-set module configs) for this <em>kiara</em> module type.</p>
<p>This is used to automatically create generally useful operations (incl. their ids).</p>

        <details class="quote">
          <summary>Source code in <code>core/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">retrieve_module_profiles</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">kiara</span><span class="p">:</span> <span class="s2">&quot;Kiara&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">Operation</span><span class="p">]]:</span>

    <span class="n">supported_source_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">]</span>

    <span class="n">doc</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_type_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">documentation</span>
    <span class="n">all_profiles</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">sup_type</span> <span class="ow">in</span> <span class="n">supported_source_types</span><span class="p">:</span>

        <span class="n">op_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_type&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_module_type_id</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;module_config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="n">sup_type</span><span class="p">},</span>
            <span class="s2">&quot;doc&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">all_profiles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;profile.</span><span class="si">{</span><span class="n">sup_type</span><span class="si">}</span><span class="s2">.data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">op_config</span>

    <span class="k">return</span> <span class="n">all_profiles</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value.DataProfilerModuleConfig" class="doc doc-heading">
        <code>
DataProfilerModuleConfig            (<a title="kiara.module_config.ModuleTypeConfigSchema" href="https://dharpa.org/kiara/latest/reference/kiara/module_config/#kiara.module_config.ModuleTypeConfigSchema">ModuleTypeConfigSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

<a href="#kiara_modules.core.value.DataProfilerModuleConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>core/value.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataProfilerModuleConfig</span><span class="p">(</span><span class="n">ModuleTypeConfigSchema</span><span class="p">):</span>

    <span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;The value type to profile.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="kiara_modules.core.value.DataProfilerModuleConfig.value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_type</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

<a href="#kiara_modules.core.value.DataProfilerModuleConfig.value_type" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The value type to profile.</p>
    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.value_types" class="doc doc-heading">
        <code>value_types</code>



<a href="#kiara_modules.core.value_types" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>This module contains the value type classes that are used in the <code>kiara_modules.core</code> package.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.ArrayType" class="doc doc-heading">
        <code>
ArrayType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.ArrayType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>An Apache arrow array.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArrayType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An Apache arrow array.&quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;array&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">return</span> <span class="n">pa</span><span class="o">.</span><span class="n">Array</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">candidate_python_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">]]:</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">pa</span><span class="o">.</span><span class="n">ChunkedArray</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid type, only Arrow Arrays or single-column Tables allowed. This value is a table with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">ChunkedArray</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;, must be &#39;</span><span class="si">{</span><span class="n">pa</span><span class="o">.</span><span class="n">Array</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">max_rows</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_no_rows&quot;</span><span class="p">)</span>
        <span class="n">max_row_height</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_row_height&quot;</span><span class="p">)</span>
        <span class="n">max_cell_length</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_cell_length&quot;</span><span class="p">)</span>

        <span class="n">half_lines</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">max_rows</span><span class="p">:</span>
            <span class="n">half_lines</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_rows</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">array</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="n">temp_table</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">(</span><span class="n">arrays</span><span class="o">=</span><span class="p">[</span><span class="n">array</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;array&quot;</span><span class="p">])</span>
        <span class="n">atw</span> <span class="o">=</span> <span class="n">ArrowTabularWrap</span><span class="p">(</span><span class="n">temp_table</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">atw</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">(</span>
                <span class="n">rows_head</span><span class="o">=</span><span class="n">half_lines</span><span class="p">,</span>
                <span class="n">rows_tail</span><span class="o">=</span><span class="n">half_lines</span><span class="p">,</span>
                <span class="n">max_row_height</span><span class="o">=</span><span class="n">max_row_height</span><span class="p">,</span>
                <span class="n">max_cell_length</span><span class="o">=</span><span class="n">max_cell_length</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.ArrayType.parse_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.ArrayType.parse_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse a value into a supported python type.</p>
<p>This exists to make it easier to do trivial conversions (e.g. from a date string to a datetime object).
If you choose to overwrite this method, make 100% sure that you don't change the meaning of the value, and try to
avoid adding or removing information from the data (e.g. by changing the resolution of a date).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>v</code></td>
        <td></td>
        <td><p>the value</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>'None', if no parsing was done and the original value should be used, otherwise return the parsed Python object</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

    <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type, only Arrow Arrays or single-column Tables allowed. This value is a table with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.ArrayType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.ArrayType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">ChunkedArray</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;, must be &#39;</span><span class="si">{</span><span class="n">pa</span><span class="o">.</span><span class="n">Array</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.BooleanType" class="doc doc-heading">
        <code>
BooleanType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.BooleanType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A boolean.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BooleanType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="s2">&quot;A boolean.&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;boolean&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">bool</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="c1"># if isinstance(v, str):</span>
            <span class="c1">#     if v.lower() in [&quot;true&quot;, &quot;yes&quot;]:</span>
            <span class="c1">#         v = True</span>
            <span class="c1">#     elif v.lower() in [&quot;false&quot;, &quot;no&quot;]:</span>
            <span class="c1">#         v = False</span>
            <span class="c1">#     else:</span>
            <span class="c1">#         raise ValueError(f&quot;Can&#39;t parse string into boolean: {v}&quot;)</span>
            <span class="c1"># else:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for boolean: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.BooleanType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.BooleanType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.BooleanType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.BooleanType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="c1"># if isinstance(v, str):</span>
        <span class="c1">#     if v.lower() in [&quot;true&quot;, &quot;yes&quot;]:</span>
        <span class="c1">#         v = True</span>
        <span class="c1">#     elif v.lower() in [&quot;false&quot;, &quot;no&quot;]:</span>
        <span class="c1">#         v = False</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         raise ValueError(f&quot;Can&#39;t parse string into boolean: {v}&quot;)</span>
        <span class="c1"># else:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for boolean: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.BytesType" class="doc doc-heading">
        <code>
BytesType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.BytesType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>An array of bytes.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BytesType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An array of bytes.&quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;bytes&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">bytes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">()]</span>

    <span class="c1"># @classmethod</span>
    <span class="c1"># def get_operations(</span>
    <span class="c1">#     cls,</span>
    <span class="c1"># ) -&gt; typing.Mapping[str, typing.Mapping[str, typing.Mapping[str, typing.Any]]]:</span>
    <span class="c1">#</span>
    <span class="c1">#     return {</span>
    <span class="c1">#         &quot;save_value&quot;: {</span>
    <span class="c1">#             &quot;default&quot;: {</span>
    <span class="c1">#                 &quot;module_type&quot;: &quot;bytes.save&quot;,</span>
    <span class="c1">#                 &quot;input_name&quot;: &quot;bytes&quot;,</span>
    <span class="c1">#             }</span>
    <span class="c1">#         }</span>
    <span class="c1">#     }</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.BytesType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.BytesType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.DatabaseType" class="doc doc-heading">
        <code>
DatabaseType            (<span title="kiara.data.types.core.ComplexModelType">ComplexModelType</span>)
        </code>



<a href="#kiara_modules.core.value_types.DatabaseType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A database, containing one or several tables.</p>
<p>This is backed by sqlite databases.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DatabaseType</span><span class="p">(</span><span class="n">ComplexModelType</span><span class="p">[</span><span class="n">KiaraDatabase</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;A database, containing one or several tables.</span>

<span class="sd">    This is backed by sqlite databases.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;database&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_model_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">KiaraDatabase</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">KiaraDatabase</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">candidate_python_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">KiaraDatabase</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># TODO: check path exists</span>
            <span class="k">return</span> <span class="n">KiaraDatabase</span><span class="p">(</span><span class="n">db_file_path</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">max_rows</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_no_rows&quot;</span><span class="p">)</span>
        <span class="n">max_row_height</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_row_height&quot;</span><span class="p">)</span>
        <span class="n">max_cell_length</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_cell_length&quot;</span><span class="p">)</span>

        <span class="n">half_lines</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">max_rows</span><span class="p">:</span>
            <span class="n">half_lines</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_rows</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">db</span><span class="p">:</span> <span class="n">KiaraDatabase</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">inspect</span>

        <span class="n">inspector</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">get_sqlalchemy_engine</span><span class="p">())</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">table_name</span> <span class="ow">in</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_table_names</span><span class="p">():</span>
            <span class="n">atw</span> <span class="o">=</span> <span class="n">SqliteTabularWrap</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">db</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span><span class="p">)</span>
            <span class="n">pretty</span> <span class="o">=</span> <span class="n">atw</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">(</span>
                <span class="n">rows_head</span><span class="o">=</span><span class="n">half_lines</span><span class="p">,</span>
                <span class="n">rows_tail</span><span class="o">=</span><span class="n">half_lines</span><span class="p">,</span>
                <span class="n">max_row_height</span><span class="o">=</span><span class="n">max_row_height</span><span class="p">,</span>
                <span class="n">max_cell_length</span><span class="o">=</span><span class="n">max_cell_length</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[b]Table[/b]: [i]</span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">[/i]&quot;</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pretty</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.DatabaseType.parse_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.DatabaseType.parse_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse a value into a supported python type.</p>
<p>This exists to make it easier to do trivial conversions (e.g. from a date string to a datetime object).
If you choose to overwrite this method, make 100% sure that you don't change the meaning of the value, and try to
avoid adding or removing information from the data (e.g. by changing the resolution of a date).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>v</code></td>
        <td></td>
        <td><p>the value</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>'None', if no parsing was done and the original value should be used, otherwise return the parsed Python object</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="c1"># TODO: check path exists</span>
        <span class="k">return</span> <span class="n">KiaraDatabase</span><span class="p">(</span><span class="n">db_file_path</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.DateType" class="doc doc-heading">
        <code>
DateType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.DateType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A date.</p>
<p>Internally, this will always be represented as a Python <code>datetime</code> object. Iff provided as input, it can also
be as string, in which case the <a href="https://dateutil.readthedocs.io/en/stable/parser.html#dateutil.parser.parse"><code>dateutils.parser.parse</code></a> method will be used to parse the string into a datetime object.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DateType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A date.</span>

<span class="sd">    Internally, this will always be represented as a Python ``datetime`` object. Iff provided as input, it can also</span>
<span class="sd">    be as string, in which case the [``dateutils.parser.parse``](https://dateutil.readthedocs.io/en/stable/parser.html#dateutil.parser.parse) method will be used to parse the string into a datetime object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;date&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_typpe</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">d</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">):</span>
            <span class="n">_d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_d</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.DateType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_typpe</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.DateType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_typpe</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.DateType.parse_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.DateType.parse_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse a value into a supported python type.</p>
<p>This exists to make it easier to do trivial conversions (e.g. from a date string to a datetime object).
If you choose to overwrite this method, make 100% sure that you don't change the meaning of the value, and try to
avoid adding or removing information from the data (e.g. by changing the resolution of a date).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>v</code></td>
        <td><code>Any</code></td>
        <td><p>the value</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>'None', if no parsing was done and the original value should be used, otherwise return the parsed Python object</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">):</span>
        <span class="n">_d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">v</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_d</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.DateType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.DateType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.DictType" class="doc doc-heading">
        <code>
DictType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.DictType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A dict-like object.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DictType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A dict-like object.&quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;dict&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">deepdiff</span> <span class="kn">import</span> <span class="n">DeepHash</span>

        <span class="n">dh</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dh</span><span class="p">[</span><span class="n">value</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, not a mapping.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.DictType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.DictType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">deepdiff</span> <span class="kn">import</span> <span class="n">DeepHash</span>

    <span class="n">dh</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dh</span><span class="p">[</span><span class="n">value</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.DictType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.DictType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, not a mapping.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.FileBundleType" class="doc doc-heading">
        <code>
FileBundleType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.FileBundleType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A representation of a set of files (folder, archive, etc.).</p>
<p>It is recommended to 'onboard' files before working with them, otherwise metadata consistency can not be guaranteed.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileBundleType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A representation of a set of files (folder, archive, etc.).</span>

<span class="sd">    It is recommended to &#39;onboard&#39; files before working with them, otherwise metadata consistency can not be guaranteed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;file_bundle&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KiaraFileBundle</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">candidate_python_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">KiaraFileBundle</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_supported_hash_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;sha3_256&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">assert</span> <span class="n">hash_type</span> <span class="o">==</span> <span class="s2">&quot;sha3_256&quot;</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">KiaraFileBundle</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">file_bundle_hash</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">max_no_included_files</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_no_files&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>

        <span class="n">data</span><span class="p">:</span> <span class="n">KiaraFileBundle</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">pretty</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;included_files&quot;</span><span class="p">})</span>
        <span class="n">files</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">included_files</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">max_no_included_files</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_no_included_files</span><span class="p">:</span>
                <span class="n">half</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">max_no_included_files</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
                <span class="n">head</span> <span class="o">=</span> <span class="n">files</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">half</span><span class="p">]</span>
                <span class="n">tail</span> <span class="o">=</span> <span class="n">files</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">half</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
                <span class="n">files</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">head</span>
                    <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;..... output skipped .....&quot;</span><span class="p">,</span> <span class="s2">&quot;..... output skipped .....&quot;</span><span class="p">]</span>
                    <span class="o">+</span> <span class="n">tail</span>
                <span class="p">)</span>
        <span class="n">pretty</span><span class="p">[</span><span class="s2">&quot;included_files&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">files</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">pretty</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)]</span>
        <span class="c1"># return [data.json(indent=2)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.FileBundleType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.FileBundleType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="k">assert</span> <span class="n">hash_type</span> <span class="o">==</span> <span class="s2">&quot;sha3_256&quot;</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">KiaraFileBundle</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">file_bundle_hash</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.FileType" class="doc doc-heading">
        <code>
FileType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.FileType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A representation of a file.</p>
<p>It is recommended to 'onboard' files before working with them, otherwise metadata consistency can not be guaranteed.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A representation of a file.</span>

<span class="sd">    It is recommended to &#39;onboard&#39; files before working with them, otherwise metadata consistency can not be guaranteed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KiaraFile</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">candidate_python_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">KiaraFile</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_supported_hash_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;sha3_256&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="k">assert</span> <span class="n">hash_type</span> <span class="o">==</span> <span class="s2">&quot;sha3_256&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">KiaraFile</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">file_hash</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span><span class="p">:</span> <span class="n">KiaraFile</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="n">max_lines</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_lines&quot;</span><span class="p">,</span> <span class="mi">34</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;</span> <span class="n">max_lines</span><span class="p">:</span>
                        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
                        <span class="k">break</span>
                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

            <span class="c1"># TODO: syntax highlighting</span>
            <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
            <span class="c1"># found non-text data</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="s2">&quot;Binary file or non-utf8 enconding, not printing content...&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;[b]File metadata:[/b]&quot;</span><span class="p">,</span>
                <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="n">data</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
            <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.FileType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.FileType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="k">assert</span> <span class="n">hash_type</span> <span class="o">==</span> <span class="s2">&quot;sha3_256&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">KiaraFile</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">file_hash</span>
</code></pre></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.FloatType" class="doc doc-heading">
        <code>
FloatType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.FloatType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A float.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FloatType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="s2">&quot;A float.&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">float</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for float: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.FloatType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.FloatType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.FloatType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.FloatType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for float: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.IntegerType" class="doc doc-heading">
        <code>
IntegerType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.IntegerType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>An integer.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">IntegerType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An integer.&quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="c1">#     if isinstance(v, str):</span>
            <span class="c1">#         try:</span>
            <span class="c1">#             v = int(v)</span>
            <span class="c1">#         except Exception:</span>
            <span class="c1">#             raise ValueError(f&quot;Can&#39;t parse string into integer: {v}&quot;)</span>
            <span class="c1"># else:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for integer: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.IntegerType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.IntegerType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.IntegerType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.IntegerType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="c1">#     if isinstance(v, str):</span>
        <span class="c1">#         try:</span>
        <span class="c1">#             v = int(v)</span>
        <span class="c1">#         except Exception:</span>
        <span class="c1">#             raise ValueError(f&quot;Can&#39;t parse string into integer: {v}&quot;)</span>
        <span class="c1"># else:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for integer: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.ListType" class="doc doc-heading">
        <code>
ListType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.ListType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A list-like object.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ListType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list-like object.&quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;list&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">deepdiff</span> <span class="kn">import</span> <span class="n">DeepHash</span>

        <span class="n">dh</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dh</span><span class="p">[</span><span class="n">value</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.ListType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.ListType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>

    <span class="kn">from</span> <span class="nn">deepdiff</span> <span class="kn">import</span> <span class="n">DeepHash</span>

    <span class="n">dh</span> <span class="o">=</span> <span class="n">DeepHash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dh</span><span class="p">[</span><span class="n">value</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.ListType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.ListType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.RenderablesType" class="doc doc-heading">
        <code>
RenderablesType            (<a title="kiara.data.types.ValueType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/__init__/#kiara.data.types.ValueType">ValueType</a>)
        </code>



<a href="#kiara_modules.core.value_types.RenderablesType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A list of renderable objects, used in the 'rich' Python library, to print to the terminal or in Jupyter.</p>
<p>Internally, the result list items can be either a string, a 'rich.console.ConsoleRenderable', or a 'rich.console.RichCast'.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RenderablesType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">[</span><span class="nb">object</span><span class="p">,</span> <span class="n">ValueTypeConfigSchema</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;A list of renderable objects, used in the &#39;rich&#39; Python library, to print to the terminal or in Jupyter.</span>

<span class="sd">    Internally, the result list items can be either a string, a &#39;rich.console.ConsoleRenderable&#39;, or a &#39;rich.console.RichCast&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;renderables&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">object</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">candidate_python_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ConsoleRenderable</span><span class="p">,</span> <span class="n">RichCast</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">type_config_cls</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="n">ValueTypeConfigSchema</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">ValueTypeConfigSchema</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.StringType" class="doc doc-heading">
        <code>
StringType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.StringType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A string.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StringType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A string.&quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;: string required&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">data</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.StringType.calculate_value_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_value_hash</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.StringType.calculate_value_hash" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate the hash of this value.</p>
<p>If a hash can't be calculated, or the calculation of a type is not implemented (yet), this will return None.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calculate_value_hash</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.StringType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.StringType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;: string required&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.value_types.TableType" class="doc doc-heading">
        <code>
TableType            (<a title="kiara.data.types.core.AnyType" href="https://dharpa.org/kiara/latest/reference/kiara/data/types/core/#kiara.data.types.core.AnyType">AnyType</a>)
        </code>



<a href="#kiara_modules.core.value_types.TableType" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A table.</p>
<p>Internally, this is backed by the <a href="https://arrow.apache.org">Apache Arrow</a> <a href="https://arrow.apache.org/docs/python/generated/pyarrow.Table.html"><code>Table</code></a> class.</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TableType</span><span class="p">(</span><span class="n">AnyType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A table.</span>

<span class="sd">    Internally, this is backed by the [Apache Arrow](https://arrow.apache.org) [``Table``](https://arrow.apache.org/docs/python/generated/pyarrow.Table.html) class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_value_type_name</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">backing_python_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">return</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">candidate_python_types</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">]]:</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ValueType&quot;</span><span class="p">]:</span>

        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">TableType</span><span class="p">()</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># @classmethod</span>
    <span class="c1"># def get_supported_hash_types(cls) -&gt; typing.Iterable[str]:</span>
    <span class="c1">#</span>
    <span class="c1">#     return [&quot;pandas_df_hash&quot;]</span>
    <span class="c1">#</span>
    <span class="c1"># @classmethod</span>
    <span class="c1"># def calculate_value_hash(cls, value: typing.Any, hash_type: str) -&gt; str:</span>
    <span class="c1">#</span>
    <span class="c1">#     import pyarrow as pa</span>
    <span class="c1">#</span>
    <span class="c1">#     # this is only for testing, and will be replaced with a native arrow table hush function, once I figure out how to do that efficiently</span>
    <span class="c1">#     table: pa.Table = value</span>
    <span class="c1">#     from pandas.util import hash_pandas_object</span>
    <span class="c1">#</span>
    <span class="c1">#     hash_result = hash_pandas_object(table.to_pandas()).sum()</span>
    <span class="c1">#     return str(hash_result)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;, must be &#39;</span><span class="si">{</span><span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">pretty_print_as_renderables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">print_config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">max_rows</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_no_rows&quot;</span><span class="p">)</span>
        <span class="n">max_row_height</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_row_height&quot;</span><span class="p">)</span>
        <span class="n">max_cell_length</span> <span class="o">=</span> <span class="n">print_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_cell_length&quot;</span><span class="p">)</span>

        <span class="n">half_lines</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">max_rows</span><span class="p">:</span>
            <span class="n">half_lines</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_rows</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">atw</span> <span class="o">=</span> <span class="n">ArrowTabularWrap</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">())</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">atw</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">(</span>
                <span class="n">rows_head</span><span class="o">=</span><span class="n">half_lines</span><span class="p">,</span>
                <span class="n">rows_tail</span><span class="o">=</span><span class="n">half_lines</span><span class="p">,</span>
                <span class="n">max_row_height</span><span class="o">=</span><span class="n">max_row_height</span><span class="p">,</span>
                <span class="n">max_cell_length</span><span class="o">=</span><span class="n">max_cell_length</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.TableType.check_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#kiara_modules.core.value_types.TableType.check_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Check whether the provided input matches this value type.</p>
<p>If it does, return a ValueType object (with the appropriate type configuration).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">check_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ValueType&quot;</span><span class="p">]:</span>

    <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">TableType</span><span class="p">()</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="kiara_modules.core.value_types.TableType.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#kiara_modules.core.value_types.TableType.validate" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Validate the value. This expects an instance of the defined Python class (from 'backing_python_type).</p>

        <details class="quote">
          <summary>Source code in <code>core/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">pyarrow</span> <span class="k">as</span> <span class="nn">pa</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;, must be &#39;</span><span class="si">{</span><span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="kiara_modules.core.yaml" class="doc doc-heading">
        <code>yaml</code>



<a href="#kiara_modules.core.yaml" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="kiara_modules.core.yaml.ToYamlModuleOld" class="doc doc-heading">
        <code>
ToYamlModuleOld            (<a title="kiara.modules.type_conversion.OldTypeConversionModule" href="https://dharpa.org/kiara/latest/reference/kiara/modules/type_conversion/#kiara.modules.type_conversion.OldTypeConversionModule">OldTypeConversionModule</a>)
        </code>



<a href="#kiara_modules.core.yaml.ToYamlModuleOld" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convert arbitrary types into YAML format.</p>
<p>Early days for this module, it doesn't support a whole lot of types yet.</p>

        <details class="quote">
          <summary>Source code in <code>core/yaml.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ToYamlModuleOld</span><span class="p">(</span><span class="n">OldTypeConversionModule</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert arbitrary types into YAML format.</span>

<span class="sd">    Early days for this module, it doesn&#39;t support a whole lot of types yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_module_type_name</span> <span class="o">=</span> <span class="s2">&quot;to_yaml&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_supported_source_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">YAML_SUPPORTED_SOURCE_TYPES</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_target_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;yaml&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Value</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>

        <span class="n">input_value</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get_value_data</span><span class="p">()</span>

        <span class="n">input_value_str</span> <span class="o">=</span> <span class="n">convert_to_yaml</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_kiara</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">input_value</span><span class="p">,</span> <span class="n">convert_config</span><span class="o">=</span><span class="n">config</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">input_value_str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../../../operation_types/data_profile/" class="md-footer__link md-footer__link--prev" aria-label="Previous: data_profile" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              data_profile
            </div>
          </div>
        </a>
      
      
        
        <a href="../array/__init__/" class="md-footer__link md-footer__link--next" aria-label="Next: array" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              array
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.bd0b6b67.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5413a266.min.js"></script>
      
    
  </body>
</html>